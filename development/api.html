<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>APIs &#8212; Loklak Server development documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'development',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="Loklak Server development documentation" href="../index.html" />
    <link rel="next" title="How to setup Loklak Server on Eclipse" href="eclipseSetup.html" />
    <link rel="prev" title="Tutorials for loklak" href="../installation/tutorials.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="apis">
<span id="apis"></span><h1>APIs<a class="headerlink" href="#apis" title="Permalink to this headline">¶</a></h1>
<p>This API can be used to create your own social media search engine using the public and open message API. Every servlet can be called with a POST request, all but push.json can be called with a PUT request.</p>
<div class="section" id="client-authentication">
<span id="client-authentication"></span><h2>Client Authentication<a class="headerlink" href="#client-authentication" title="Permalink to this headline">¶</a></h2>
<p>You can access the API <code class="docutils literal"><span class="pre">without</span> <span class="pre">any</span> <span class="pre">authentication</span></code>. This service can be use without subscription, however, there is a user management to grant users administration rights. Excessive usage of APIs is restricted with DoS protection. Some servlets can only be called from localhost or administration rights to protect user data submitted to the server. There are three classes for access rights:</p>
<p>| Class | Accesibility |
| &#8212; | &#8212; |
| Open | access without any restrictions for all clients from any IP |
| Limited | localhost clients or administration users are granted more data than public clients |
| Restricted | only localhost clients or administration users are granted access |</p>
</div>
<div class="section" id="cross-origin-resource-sharing">
<span id="cross-origin-resource-sharing"></span><h2>Cross-Origin Resource Sharing<a class="headerlink" href="#cross-origin-resource-sharing" title="Permalink to this headline">¶</a></h2>
<p>Most servlets can be called with a <code class="docutils literal"><span class="pre">callback=&lt;function-name&gt;</span></code> property to call a jsonp result format. This is sufficient to allow a cross-origin access to the API. Servlets which do not provide <code class="docutils literal"><span class="pre">json</span></code>S content (i.e. all <code class="docutils literal"><span class="pre">/vis/</span></code>servlets) implement CORS headers to enable embedding of their content (applies mostly to images).</p>
</div>
<div class="section" id="configuration-dependencies">
<span id="configuration-dependencies"></span><h2>Configuration Dependencies<a class="headerlink" href="#configuration-dependencies" title="Permalink to this headline">¶</a></h2>
<p>Some servlets read and provide configuration data from <code class="docutils literal"><span class="pre">data/settings/customized_config.properties</span></code>. To enable such services please edit that file and add your custom values.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">apiUrl</span>                  <span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">9000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span>
<span class="n">client</span><span class="o">.</span><span class="n">domain</span>                  <span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">3001</span>
<span class="n">client</span><span class="o">.</span><span class="n">twitterCallbackUrl</span>      <span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">3000</span><span class="o">/</span><span class="n">auth</span><span class="o">/</span><span class="n">twitter</span><span class="o">/</span><span class="n">callback</span>
</pre></div>
</div>
<p>Properties prefixed with <code class="docutils literal"><span class="pre">client</span></code>. are exposed at the /api/settings.json API to clients outside. Some outside services may share authorization values for OAuth-protected services which are also used inside of <code class="docutils literal"><span class="pre">loklak_server</span></code>. Some services (like /api/account.json) also need access tokens, which shall never be exposed. You should configure the following attributes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">twitterConsumerKey</span>       <span class="p">:</span> <span class="o">&lt;</span><span class="n">KEY</span> <span class="n">HERE</span><span class="o">&gt;</span>
<span class="n">client</span><span class="o">.</span><span class="n">twitterConsumerSecret</span>    <span class="p">:</span> <span class="o">&lt;</span><span class="n">KEY</span> <span class="n">HERE</span><span class="o">&gt;</span>
<span class="n">twitterAccessToken</span>              <span class="p">:</span> <span class="o">&lt;</span><span class="n">KEY</span> <span class="n">HERE</span><span class="o">&gt;</span>
<span class="n">twitterAccessTokenSecret</span>        <span class="p">:</span> <span class="o">&lt;</span><span class="n">KEY</span> <span class="n">HERE</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="api-status-json">
<span id="api-status-json"></span><h2>/api/status.json<a class="headerlink" href="#api-status-json" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">This</span> <span class="pre">API</span> <span class="pre">is</span> <span class="pre">open</span> <span class="pre">and</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">accessed</span> <span class="pre">without</span> <span class="pre">any</span> <span class="pre">restrictions!</span></code></p>
<p>The status servlet shows the size of the internal Elasticsearch search index for messages and users. Furthermore, the servlet reflects the current browser clients settings in the client_info.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;assigned_memory&quot;</span><span class="p">:</span> <span class="mi">2138046464</span><span class="p">,</span>
    <span class="s2">&quot;used_memory&quot;</span><span class="p">:</span> <span class="mi">1483733632</span><span class="p">,</span>
    <span class="s2">&quot;available_memory&quot;</span><span class="p">:</span> <span class="mi">654312832</span><span class="p">,</span>
    <span class="s2">&quot;cores&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
    <span class="s2">&quot;threads&quot;</span><span class="p">:</span> <span class="mi">66</span><span class="p">,</span>
    <span class="s2">&quot;runtime&quot;</span><span class="p">:</span> <span class="mi">9771988</span><span class="p">,</span>
    <span class="s2">&quot;time_to_restart&quot;</span><span class="p">:</span> <span class="mi">76628012</span><span class="p">,</span>
    <span class="s2">&quot;load_system_average&quot;</span><span class="p">:</span> <span class="mf">3.41</span><span class="p">,</span>
    <span class="s2">&quot;load_system_cpu&quot;</span><span class="p">:</span> <span class="mf">0.15860576435689824</span><span class="p">,</span>
    <span class="s2">&quot;load_process_cpu&quot;</span><span class="p">:</span> <span class="mf">0.06938855268126196</span><span class="p">,</span>
    <span class="s2">&quot;server_threads&quot;</span><span class="p">:</span> <span class="mi">6</span>
  <span class="p">},</span>
  <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;mps&quot;</span><span class="p">:</span> <span class="mi">145</span><span class="p">,</span>
    <span class="s2">&quot;messages&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">817015033</span><span class="p">,</span>
      <span class="s2">&quot;size_local&quot;</span><span class="p">:</span> <span class="mi">817015033</span><span class="p">,</span>
      <span class="s2">&quot;size_backend&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;stats&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;messages&quot;</span><span class="p">,</span>
        <span class="s2">&quot;object_cache&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;update&quot;</span><span class="p">:</span> <span class="mi">1681695</span><span class="p">,</span>
          <span class="s2">&quot;hit&quot;</span><span class="p">:</span> <span class="mi">68974</span><span class="p">,</span>
          <span class="s2">&quot;miss&quot;</span><span class="p">:</span> <span class="mi">5093840</span><span class="p">,</span>
          <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">10001</span><span class="p">,</span>
          <span class="s2">&quot;maxsize&quot;</span><span class="p">:</span> <span class="mi">10000</span>
        <span class="p">},</span>
        <span class="s2">&quot;exist_cache&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;update&quot;</span><span class="p">:</span> <span class="mi">2047729</span><span class="p">,</span>
          <span class="s2">&quot;hit&quot;</span><span class="p">:</span> <span class="mi">633027</span><span class="p">,</span>
          <span class="s2">&quot;miss&quot;</span><span class="p">:</span> <span class="mi">4460813</span><span class="p">,</span>
          <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">2047695</span><span class="p">,</span>
          <span class="s2">&quot;maxsize&quot;</span><span class="p">:</span> <span class="mi">3000000</span>
        <span class="p">},</span>
        <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;get&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
          <span class="s2">&quot;write&quot;</span><span class="p">:</span> <span class="mi">1681217</span><span class="p">,</span>
          <span class="s2">&quot;exist&quot;</span><span class="p">:</span> <span class="mi">2047772</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">98790</span><span class="p">,</span>
        <span class="s2">&quot;maxSize&quot;</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span>
        <span class="s2">&quot;clients&quot;</span><span class="p">:</span> <span class="mi">0</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;users&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">57390340</span><span class="p">,</span>
      <span class="s2">&quot;size_local&quot;</span><span class="p">:</span> <span class="mi">57390340</span><span class="p">,</span>
      <span class="s2">&quot;size_backend&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;stats&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;users&quot;</span><span class="p">,</span>
        <span class="s2">&quot;object_cache&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;update&quot;</span><span class="p">:</span> <span class="mi">1687190</span><span class="p">,</span>
          <span class="s2">&quot;hit&quot;</span><span class="p">:</span> <span class="mi">39660</span><span class="p">,</span>
          <span class="s2">&quot;miss&quot;</span><span class="p">:</span> <span class="mi">5495</span><span class="p">,</span>
          <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
          <span class="s2">&quot;maxsize&quot;</span><span class="p">:</span> <span class="mi">10000</span>
        <span class="p">},</span>
        <span class="s2">&quot;exist_cache&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;update&quot;</span><span class="p">:</span> <span class="mi">1732345</span><span class="p">,</span>
          <span class="s2">&quot;hit&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
          <span class="s2">&quot;miss&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
          <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">378658</span><span class="p">,</span>
          <span class="s2">&quot;maxsize&quot;</span><span class="p">:</span> <span class="mi">3000000</span>
        <span class="p">},</span>
        <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;get&quot;</span><span class="p">:</span> <span class="mi">5495</span><span class="p">,</span>
          <span class="s2">&quot;write&quot;</span><span class="p">:</span> <span class="mi">1681420</span><span class="p">,</span>
          <span class="s2">&quot;exist&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;queries&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">3958</span><span class="p">,</span>
      <span class="s2">&quot;stats&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;queries&quot;</span><span class="p">,</span>
        <span class="s2">&quot;object_cache&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;update&quot;</span><span class="p">:</span> <span class="mi">4648</span><span class="p">,</span>
          <span class="s2">&quot;hit&quot;</span><span class="p">:</span> <span class="mi">3166</span><span class="p">,</span>
          <span class="s2">&quot;miss&quot;</span><span class="p">:</span> <span class="mi">3868</span><span class="p">,</span>
          <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">741</span><span class="p">,</span>
          <span class="s2">&quot;maxsize&quot;</span><span class="p">:</span> <span class="mi">10000</span>
        <span class="p">},</span>
        <span class="s2">&quot;exist_cache&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;update&quot;</span><span class="p">:</span> <span class="mi">11514</span><span class="p">,</span>
          <span class="s2">&quot;hit&quot;</span><span class="p">:</span> <span class="mi">162</span><span class="p">,</span>
          <span class="s2">&quot;miss&quot;</span><span class="p">:</span> <span class="mi">2959</span><span class="p">,</span>
          <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">3096</span><span class="p">,</span>
          <span class="s2">&quot;maxsize&quot;</span><span class="p">:</span> <span class="mi">3000000</span>
        <span class="p">},</span>
        <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;get&quot;</span><span class="p">:</span> <span class="mi">747</span><span class="p">,</span>
          <span class="s2">&quot;write&quot;</span><span class="p">:</span> <span class="mi">3907</span><span class="p">,</span>
          <span class="s2">&quot;exist&quot;</span><span class="p">:</span> <span class="mi">2959</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">94</span><span class="p">},</span>
    <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">688251</span><span class="p">},</span>
    <span class="s2">&quot;followers&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">141</span><span class="p">},</span>
    <span class="s2">&quot;following&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">129</span><span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;client_info&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;RemoteHost&quot;</span><span class="p">:</span> <span class="s2">&quot;14.139.85.203&quot;</span><span class="p">,</span>
    <span class="s2">&quot;IsLocalhost&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;request_header&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;Upgrade-Insecure-Requests&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Accept-Language&quot;</span><span class="p">:</span> <span class="s2">&quot;en-US,en;q=0.8&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Host&quot;</span><span class="p">:</span> <span class="s2">&quot;api.loklak.org&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Accept-Encoding&quot;</span><span class="p">:</span> <span class="s2">&quot;gzip, deflate, sdch&quot;</span><span class="p">,</span>
      <span class="s2">&quot;X-Forwarded-Proto&quot;</span><span class="p">:</span> <span class="s2">&quot;http&quot;</span><span class="p">,</span>
      <span class="s2">&quot;X-Forwarded-For&quot;</span><span class="p">:</span> <span class="s2">&quot;172.30.107.104, 14.139.85.203&quot;</span><span class="p">,</span>
      <span class="s2">&quot;X-Real-IP&quot;</span><span class="p">:</span> <span class="s2">&quot;14.139.85.203&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Via&quot;</span><span class="p">:</span> <span class="s2">&quot;1.1 proxy17.nitw (squid/3.1.8)&quot;</span><span class="p">,</span>
      <span class="s2">&quot;User-Agent&quot;</span><span class="p">:</span> <span class="s2">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.112 Safari/537.36&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Connection&quot;</span><span class="p">:</span> <span class="s2">&quot;close&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Cache-Control&quot;</span><span class="p">:</span> <span class="s2">&quot;max-age=259200&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="api-search-json">
<span id="api-search-json"></span><h2>/api/search.json<a class="headerlink" href="#api-search-json" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">This</span> <span class="pre">API</span> <span class="pre">is</span> <span class="pre">open</span> <span class="pre">and</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">accessed</span> <span class="pre">without</span> <span class="pre">any</span> <span class="pre">restrictions!</span></code></p>
<p>Get a search result. There are two formats available: JSON and RSS. To get RSS data (which is OpenSearch-compliant) use the path <code class="docutils literal"><span class="pre">/api/search.rss</span></code> . The JSON return format is a subset of the Twitter API search result but has also some additional attributes. Request properties are:</p>
<p><code class="docutils literal"><span class="pre">q</span> <span class="pre">=</span> <span class="pre">&lt;query</span> <span class="pre">term&gt;</span> <span class="pre">//</span> <span class="pre">space</span> <span class="pre">replaced</span> <span class="pre">by</span> <span class="pre">'+',</span> <span class="pre">i.e.</span> <span class="pre">q=doctor+who</span></code></p>
<p>The query term has a special syntax and may contain the following term tokens:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">term1</span> <span class="n">term2</span>       <span class="p">:</span> <span class="n">term1</span> <span class="ow">and</span> <span class="n">term2</span> <span class="n">shall</span> <span class="n">appear</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">Tweet</span> <span class="n">text</span>
<span class="nd">@user</span>             <span class="p">:</span> <span class="n">the</span> <span class="n">user</span> <span class="n">must</span> <span class="n">be</span> <span class="n">mentioned</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">message</span>
<span class="n">from</span><span class="p">:</span><span class="n">user</span>         <span class="p">:</span> <span class="n">only</span> <span class="n">messages</span> <span class="n">published</span> <span class="n">by</span> <span class="n">the</span> <span class="n">user</span>
<span class="c1">#hashtag          : the message must contain the given hashtag</span>
<span class="n">near</span><span class="p">:</span><span class="o">&lt;</span><span class="n">location</span><span class="o">&gt;</span>   <span class="p">:</span> <span class="n">messages</span> <span class="n">shall</span> <span class="n">be</span> <span class="n">created</span> <span class="n">near</span> <span class="n">the</span> <span class="n">given</span> <span class="n">location</span>
<span class="n">since</span><span class="p">:</span><span class="o">&lt;</span><span class="n">date</span><span class="o">&gt;</span>      <span class="p">:</span> <span class="n">only</span> <span class="n">messages</span> <span class="n">after</span> <span class="n">the</span> <span class="n">date</span> <span class="p">(</span><span class="n">including</span> <span class="n">the</span> <span class="n">date</span><span class="p">),</span> <span class="o">&lt;</span><span class="n">date</span><span class="o">&gt;=</span><span class="n">yyyy</span><span class="o">-</span><span class="n">MM</span><span class="o">-</span><span class="n">dd</span> <span class="ow">or</span> <span class="n">yyyy</span><span class="o">-</span><span class="n">MM</span><span class="o">-</span><span class="n">dd_HH</span><span class="p">:</span><span class="n">mm</span>
<span class="n">until</span><span class="p">:</span><span class="o">&lt;</span><span class="n">date</span><span class="o">&gt;</span>      <span class="p">:</span> <span class="n">only</span> <span class="n">messages</span> <span class="n">before</span> <span class="n">the</span> <span class="n">date</span> <span class="p">(</span><span class="n">excluding</span> <span class="n">the</span> <span class="n">date</span><span class="p">),</span> <span class="o">&lt;</span><span class="n">date</span><span class="o">&gt;=</span><span class="n">yyyy</span><span class="o">-</span><span class="n">MM</span><span class="o">-</span><span class="n">dd</span> <span class="ow">or</span> <span class="n">yyyy</span><span class="o">-</span><span class="n">MM</span><span class="o">-</span><span class="n">dd_HH</span><span class="p">:</span><span class="n">mm</span>
</pre></div>
</div>
<p>Furthermore the following GET-attributes can be used:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">count</span>           <span class="o">=</span> <span class="o">&lt;</span><span class="n">result</span> <span class="n">count</span><span class="o">&gt;</span>                              <span class="o">//</span> <span class="n">default</span> <span class="mi">100</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span> <span class="n">count</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">the</span> <span class="n">wanted</span> <span class="n">number</span> <span class="n">of</span> <span class="n">results</span>
<span class="n">source</span>          <span class="o">=</span> <span class="o">&lt;</span><span class="n">cache</span><span class="o">|</span><span class="n">backend</span><span class="o">|</span><span class="n">twitter</span><span class="o">|</span><span class="nb">all</span><span class="o">&gt;</span>                 <span class="o">//</span> <span class="n">the</span> <span class="n">source</span> <span class="k">for</span> <span class="n">the</span> <span class="n">search</span><span class="p">,</span> <span class="n">default</span> <span class="nb">all</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span> <span class="n">source</span><span class="o">=</span><span class="n">cache</span>
<span class="n">fields</span>          <span class="o">=</span> <span class="o">&lt;</span><span class="n">field</span> <span class="n">name</span> <span class="nb">list</span><span class="p">,</span> <span class="n">separated</span> <span class="n">by</span> <span class="s1">&#39;,&#39;</span><span class="o">&gt;</span>         <span class="o">//</span> <span class="n">aggregation</span> <span class="n">fields</span> <span class="k">for</span> <span class="n">search</span> <span class="n">facets</span><span class="p">,</span> <span class="n">like</span> <span class="s2">&quot;created_at,mentions&quot;</span>
<span class="n">limit</span>           <span class="o">=</span> <span class="o">&lt;</span><span class="n">maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">facets</span> <span class="k">for</span> <span class="n">each</span> <span class="n">field</span><span class="o">&gt;</span>   <span class="o">//</span> <span class="n">a</span> <span class="n">limitation</span> <span class="n">of</span> <span class="n">number</span> <span class="n">of</span> <span class="n">facets</span> <span class="k">for</span> <span class="n">each</span> <span class="n">aggregation</span>
<span class="n">timezoneOffset</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">offset</span> <span class="ow">in</span> <span class="n">minutes</span><span class="o">&gt;</span>                         <span class="o">//</span> <span class="n">offset</span> <span class="n">applied</span> <span class="n">on</span> <span class="n">since</span><span class="p">:,</span> <span class="n">until</span><span class="p">:</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">date</span> <span class="n">histogram</span>
<span class="n">minified</span>        <span class="o">=</span> <span class="o">&lt;</span><span class="n">true</span><span class="o">|</span><span class="n">false</span><span class="o">&gt;</span>                                <span class="o">//</span> <span class="n">minify</span> <span class="n">the</span> <span class="n">result</span><span class="p">,</span> <span class="n">default</span> <span class="n">false</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span> <span class="n">minified</span><span class="o">=</span><span class="n">true</span>
</pre></div>
</div>
<p>A search result in JSON format looks like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;readme_0&quot;</span> <span class="p">:</span> <span class="s2">&quot;THIS JSON IS THE RESULT OF YOUR SEARCH QUERY - THERE IS NO WEB PAGE WHICH SHOWS THE RESULT!&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_1&quot;</span> <span class="p">:</span> <span class="s2">&quot;loklak.org is the framework for a message search system, not the portal, read: http://loklak.org/about.html#notasearchportal&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_2&quot;</span> <span class="p">:</span> <span class="s2">&quot;This is supposed to be the back-end of a search portal. For the api, see http://loklak.org/api.html&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_3&quot;</span> <span class="p">:</span> <span class="s2">&quot;Parameters q=(query), source=(cache|backend|twitter|all), callback=p for jsonp, maximumRecords=(message count), minified=(true|false)&quot;</span><span class="p">,</span>
  <span class="s2">&quot;search_metadata&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;itemsPerPage&quot;</span> <span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;count&quot;</span> <span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;count_twitter_all&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_twitter_new&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_backend&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_cache&quot;</span> <span class="p">:</span> <span class="mi">7336</span><span class="p">,</span>
    <span class="s2">&quot;hits&quot;</span> <span class="p">:</span> <span class="mi">7336</span><span class="p">,</span>
    <span class="s2">&quot;period&quot;</span> <span class="p">:</span> <span class="mi">9223372036854775807</span><span class="p">,</span>
    <span class="s2">&quot;query&quot;</span> <span class="p">:</span> <span class="s2">&quot;fossasia&quot;</span><span class="p">,</span>
    <span class="s2">&quot;client&quot;</span> <span class="p">:</span> <span class="s2">&quot;122.175.88.159&quot;</span><span class="p">,</span>
    <span class="s2">&quot;time&quot;</span> <span class="p">:</span> <span class="mi">1196</span><span class="p">,</span>
    <span class="s2">&quot;servicereduction&quot;</span> <span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;scraperInfo&quot;</span> <span class="p">:</span> <span class="s2">&quot;local&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;statuses&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
    <span class="s2">&quot;timestamp&quot;</span> <span class="p">:</span> <span class="s2">&quot;2016-04-21T17:33:06.959Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;created_at&quot;</span> <span class="p">:</span> <span class="s2">&quot;2016-04-21T15:39:39.000Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;screen_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;notrademark&quot;</span><span class="p">,</span>
    <span class="s2">&quot;text&quot;</span> <span class="p">:</span> <span class="s2">&quot;@fossasia @mariobehling sure, I am happy about every pull request on GitHub. What features do you plan?&quot;</span><span class="p">,</span>
    <span class="s2">&quot;link&quot;</span> <span class="p">:</span> <span class="s2">&quot;https://twitter.com/notrademark/status/723174364968005632&quot;</span><span class="p">,</span>
    <span class="s2">&quot;id_str&quot;</span> <span class="p">:</span> <span class="s2">&quot;723174364968005632&quot;</span><span class="p">,</span>
    <span class="s2">&quot;source_type&quot;</span> <span class="p">:</span> <span class="s2">&quot;USER&quot;</span><span class="p">,</span>
    <span class="s2">&quot;provider_type&quot;</span> <span class="p">:</span> <span class="s2">&quot;REMOTE&quot;</span><span class="p">,</span>
    <span class="s2">&quot;provider_hash&quot;</span> <span class="p">:</span> <span class="s2">&quot;1cadbfd3&quot;</span><span class="p">,</span>
    <span class="s2">&quot;retweet_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;favourites_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;images&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;images_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;audio&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;audio_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;videos&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;videos_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;place_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;Planá&quot;</span><span class="p">,</span>
    <span class="s2">&quot;place_id&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;place_context&quot;</span> <span class="p">:</span> <span class="s2">&quot;FROM&quot;</span><span class="p">,</span>
    <span class="s2">&quot;location_point&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="mf">12.743780125278874</span><span class="p">,</span> <span class="mf">49.86816018348006</span> <span class="p">],</span>
    <span class="s2">&quot;location_radius&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;location_mark&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="mf">12.74180946741263</span><span class="p">,</span> <span class="mf">49.86938948602838</span> <span class="p">],</span>
    <span class="s2">&quot;location_source&quot;</span> <span class="p">:</span> <span class="s2">&quot;PLACE&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hosts&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;hosts_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;links&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;links_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;mentions&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;fossasia&quot;</span><span class="p">,</span> <span class="s2">&quot;mariobehling&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;mentions_count&quot;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;hashtags&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;hashtags_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;classifier_language&quot;</span> <span class="p">:</span> <span class="s2">&quot;english&quot;</span><span class="p">,</span>
    <span class="s2">&quot;classifier_language_probability&quot;</span> <span class="p">:</span> <span class="mf">2.7384035E-14</span><span class="p">,</span>
    <span class="s2">&quot;without_l_len&quot;</span> <span class="p">:</span> <span class="mi">103</span><span class="p">,</span>
    <span class="s2">&quot;without_lu_len&quot;</span> <span class="p">:</span> <span class="mi">79</span><span class="p">,</span>
    <span class="s2">&quot;without_luh_len&quot;</span> <span class="p">:</span> <span class="mi">79</span><span class="p">,</span>
    <span class="s2">&quot;user&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;screen_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;notrademark&quot;</span><span class="p">,</span>
      <span class="s2">&quot;user_id&quot;</span> <span class="p">:</span> <span class="s2">&quot;2374283574&quot;</span><span class="p">,</span>
      <span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;msquare&quot;</span><span class="p">,</span>
      <span class="s2">&quot;profile_image_url_https&quot;</span> <span class="p">:</span> <span class="s2">&quot;https://pbs.twimg.com/profile_images/514057179737772032/OPi1EgNA_bigger.png&quot;</span><span class="p">,</span>
      <span class="s2">&quot;appearance_first&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-08-17T02:42:20.874Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;appearance_latest&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-08-17T02:42:20.874Z&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="p">],</span>
  <span class="s2">&quot;aggregations&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The text field is evaluated and all shortened links are extracted. Furthermore all hashtags and user screen names are extracted as well and written into special index fields, which can be used for statistical evaluation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>links     : all links in the message. (almost) all shortlinks are expanded!
hosts     : the host names from the extracted links
mentions  : all user names denoted by a &#39;@&#39;-prefix from the message; listed without the leading &#39;@&#39;
hashtags  : all hashtags appearing in the message, without the leading &#39;#&#39;
</pre></div>
</div>
<p>To identify the source of the Tweet, the Tweet system and the collection source is mentioned:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">source_type</span>     <span class="p">:</span> <span class="n">The</span> <span class="n">source</span> <span class="n">of</span> <span class="n">the</span> <span class="n">message</span><span class="p">,</span> <span class="n">currently</span> <span class="n">only</span> <span class="s1">&#39;TWITTER&#39;</span> <span class="ow">is</span> <span class="n">possible</span>
<span class="n">provider_type</span>   <span class="p">:</span> <span class="n">The</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">the</span> <span class="n">content</span> <span class="n">provider</span><span class="p">,</span> <span class="n">possible</span> <span class="n">values</span> <span class="n">are</span> <span class="n">SCRAPED</span> <span class="ow">and</span> <span class="n">REMOTE</span> <span class="p">(</span><span class="k">for</span> <span class="n">pushed</span> <span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
<p>These extracted fields are especially useful for search aggregations, see below.</p>
</div>
<div class="section" id="search-result-aggregations">
<span id="search-result-aggregations"></span><h2>Search Result Aggregations<a class="headerlink" href="#search-result-aggregations" title="Permalink to this headline">¶</a></h2>
<p>A search result may also have field aggregations (aka &#8216;facets&#8217;) if they are requested in the search request. To get aggregations, the attribute &#8216;source&#8217; MUST be set to &#8216;cache&#8217; and the fields to be aggregated must be listed in the attribute &#8216;fields&#8217;. Aggregations are only useful if the search query contains also since- and until-modifiers to define a time frame. A typical aggregation search request sets the count of search results to zero. Example:</p>
<p>url : <a class="reference external" href="http://localhost:9000/api/search.json?q=spacex%20since:2015-04-01%20until:2015-04-06&amp;source=cache&amp;count=0&amp;fields=mentions,hashtags&amp;limit=6">http://localhost:9000/api/search.json?q=spacex%20since:2015-04-01%20until:2015-04-06&amp;source=cache&amp;count=0&amp;fields=mentions,hashtags&amp;limit=6</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;readme_0&quot;</span><span class="p">:</span> <span class="s2">&quot;THIS JSON IS THE RESULT OF YOUR SEARCH QUERY - THERE IS NO WEB PAGE WHICH SHOWS THE RESULT!&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_1&quot;</span><span class="p">:</span> <span class="s2">&quot;loklak.org is the framework for a message search system, not the portal, read: http://loklak.org/about.html#notasearchportal&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_2&quot;</span><span class="p">:</span> <span class="s2">&quot;This is supposed to be the back-end of a search portal. For the api, see http://loklak.org/api.html&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_3&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters q=(query), source=(cache|backend|twitter|all), callback=p for jsonp, maximumRecords=(message count), minified=(true|false)&quot;</span><span class="p">,</span>
  <span class="s2">&quot;search_metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;itemsPerPage&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;count_twitter_all&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_twitter_new&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_backend&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_cache&quot;</span><span class="p">:</span> <span class="mi">26</span><span class="p">,</span>
    <span class="s2">&quot;hits&quot;</span><span class="p">:</span> <span class="mi">26</span><span class="p">,</span>
    <span class="s2">&quot;period&quot;</span><span class="p">:</span> <span class="mi">9223372036854775807</span><span class="p">,</span>
    <span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="s2">&quot;spacex since:2015-04-01 until:2015-04-06&quot;</span><span class="p">,</span>
    <span class="s2">&quot;client&quot;</span><span class="p">:</span> <span class="s2">&quot;183.82.217.193&quot;</span><span class="p">,</span>
    <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">59658</span><span class="p">,</span>
    <span class="s2">&quot;servicereduction&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;statuses&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s2">&quot;aggregations&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;hashtags&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;spacex&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
      <span class="s2">&quot;apple&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;kca&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;nasa&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;space&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;votejkt48id&quot;</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">},</span>
    <span class="s2">&quot;mentions&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;AkulaEcho&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;Conduru&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;DaveDTC&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;David_Lark&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;JosieBaik&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;NanotronicsImag&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Loklak can also suggest what&#8217;s trending and can give you the list of trending hashtags using the same search aggregations method. To find out the most trending hashtags on loklak since a particular date. Other filters like until can also be applied, here is a sample request</p>
<p>url  : <a class="reference external" href="http://localhost:9000/api/search.json?q=spacex%20since:2015-04-01%20until:2015-04-06&amp;source=cache&amp;count=0&amp;fields=mentions,hashtags&amp;limit=6">http://api.loklak.org/api/search.json?q=since:2016-06-01&amp;source=cache&amp;count=0&amp;fields=hashtags</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;readme_0&quot;</span><span class="p">:</span> <span class="s2">&quot;THIS JSON IS THE RESULT OF YOUR SEARCH QUERY - THERE IS NO WEB PAGE WHICH SHOWS THE RESULT!&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_1&quot;</span><span class="p">:</span> <span class="s2">&quot;loklak.org is the framework for a message search system, not the portal, read: http://loklak.org/about.html#notasearchportal&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_2&quot;</span><span class="p">:</span> <span class="s2">&quot;This is supposed to be the back-end of a search portal. For the api, see http://loklak.org/api.html&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_3&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters q=(query), source=(cache|backend|twitter|all), callback=p for jsonp, maximumRecords=(message count), minified=(true|false)&quot;</span><span class="p">,</span>
  <span class="s2">&quot;search_metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;itemsPerPage&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;count_twitter_all&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_twitter_new&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_backend&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_cache&quot;</span><span class="p">:</span> <span class="mi">33284</span><span class="p">,</span>
    <span class="s2">&quot;hits&quot;</span><span class="p">:</span> <span class="mi">33284</span><span class="p">,</span>
    <span class="s2">&quot;period&quot;</span><span class="p">:</span> <span class="mi">9223372036854775807</span><span class="p">,</span>
    <span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="s2">&quot;since:2016-06-01&quot;</span><span class="p">,</span>
    <span class="s2">&quot;client&quot;</span><span class="p">:</span> <span class="s2">&quot;1.39.62.88&quot;</span><span class="p">,</span>
    <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;servicereduction&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="s2">&quot;messages_hour&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;statuses&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s2">&quot;aggregations&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;hashtags&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;job&quot;</span><span class="p">:</span> <span class="mi">433</span><span class="p">,</span>
    <span class="s2">&quot;hiring&quot;</span><span class="p">:</span> <span class="mi">346</span><span class="p">,</span>
    <span class="s2">&quot;jobs&quot;</span><span class="p">:</span> <span class="mi">183</span><span class="p">,</span>
    <span class="s2">&quot;nowplaying&quot;</span><span class="p">:</span> <span class="mi">165</span><span class="p">,</span>
    <span class="s2">&quot;careerarc&quot;</span><span class="p">:</span> <span class="mi">162</span><span class="p">,</span>
    <span class="s2">&quot;6yearsof1d&quot;</span><span class="p">:</span> <span class="mi">115</span><span class="p">,</span>
    <span class="s2">&quot;6yearsofonedirection&quot;</span><span class="p">:</span> <span class="mi">110</span><span class="p">,</span>
    <span class="s2">&quot;dncleaks&quot;</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="s2">&quot;pslmatchmadeinheaven&quot;</span><span class="p">:</span> <span class="mi">97</span><span class="p">,</span>
    <span class="s2">&quot;hungariangp&quot;</span><span class="p">:</span> <span class="mi">92</span>
  <span class="p">}}</span>
<span class="p">}</span> 
</pre></div>
</div>
<p>A special field is the &#8220;created_at&#8221; field which will create a date histogram if listed in the GET-attribute &#8216;fields&#8217;. The date histogram resolution depends on the time frame as given in the query modifier with the &#8216;since&#8217; and &#8216;until&#8217; time limits: minutes if the time frame is below three hours, hours if the time frame is below seven days and days otherwise. Example:</p>
<p>url : <a class="reference external" href="http://localhost:9000/api/search.json?q=spacex%20since:2015-04-05_23:10%20until:2015-04-05_23:20&amp;source=cache&amp;count=0&amp;fields=created_at&amp;timezoneOffset=-120">http://localhost:9000/api/search.json?q=spacex%20since:2015-04-05_23:10%20until:2015-04-05_23:20&amp;source=cache&amp;count=0&amp;fields=created_at&amp;timezoneOffset=-120</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;readme_0&quot;</span><span class="p">:</span> <span class="s2">&quot;THIS JSON IS THE RESULT OF YOUR SEARCH QUERY - THERE IS NO WEB PAGE WHICH SHOWS THE RESULT!&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_1&quot;</span><span class="p">:</span> <span class="s2">&quot;loklak.org is the framework for a message search system, not the portal, read: http://loklak.org/about.html#notasearchportal&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_2&quot;</span><span class="p">:</span> <span class="s2">&quot;This is supposed to be the back-end of a search portal. For the api, see http://loklak.org/api.html&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_3&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters q=(query), source=(cache|backend|twitter|all), callback=p for jsonp, maximumRecords=(message count), minified=(true|false)&quot;</span><span class="p">,</span>
  <span class="s2">&quot;search_metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;itemsPerPage&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;count_twitter_all&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_twitter_new&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_backend&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_cache&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="s2">&quot;hits&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="s2">&quot;period&quot;</span><span class="p">:</span> <span class="mi">9223372036854775807</span><span class="p">,</span>
    <span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="s2">&quot;spacex since:2015-04-05_23:10 until:2015-04-06_23:20&quot;</span><span class="p">,</span>
    <span class="s2">&quot;client&quot;</span><span class="p">:</span> <span class="s2">&quot;183.82.217.193&quot;</span><span class="p">,</span>
    <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">1128</span><span class="p">,</span>
    <span class="s2">&quot;servicereduction&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;statuses&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s2">&quot;aggregations&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;2015-04-06 00:00&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 01:00&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 02:00&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 03:00&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 04:00&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 05:00&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 06:00&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 07:00&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 08:00&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 09:00&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 10:00&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 11:00&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 12:00&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 13:00&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;2015-04-06 14:00&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">}}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It is also possible to specify the order in descending order for the following filter options favourites_count, retweet_count and the default being created_at. Here are the examples of the different queries which make this happen.</p>
<ul class="simple">
<li>retweet count:   : <a class="reference external" href="http://loklak.org/api/search.json?timezoneOffset=-120&amp;q=fossasia&amp;order=retweet_count&amp;source=cache">http://api.loklak.org/api/search.json?timezoneOffset=-120&amp;q=fossasia&amp;order=retweet_count&amp;source=cache</a></li>
<li>favorites count:   : <a class="reference external" href="http://localhost:9000/api/search.json?timezoneOffset=-120&amp;q=fossasia&amp;order=favourites_count&amp;source=cache">http://localhost:9000/api/search.json?timezoneOffset=-120&amp;q=fossasia&amp;order=favourites_count&amp;source=cache</a></li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>  <span class="p">{</span>
  <span class="s2">&quot;readme_0&quot;</span><span class="p">:</span> <span class="s2">&quot;THIS JSON IS THE RESULT OF YOUR SEARCH QUERY - THERE IS NO WEB PAGE WHICH SHOWS THE RESULT!&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_1&quot;</span><span class="p">:</span> <span class="s2">&quot;loklak.org is the framework for a message search system, not the portal, read: http://loklak.org/about.html#notasearchportal&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_2&quot;</span><span class="p">:</span> <span class="s2">&quot;This is supposed to be the back-end of a search portal. For the api, see http://loklak.org/api.html&quot;</span><span class="p">,</span>
  <span class="s2">&quot;readme_3&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters q=(query), source=(cache|backend|twitter|all), callback=p for jsonp, maximumRecords=(message count), minified=(true|false)&quot;</span><span class="p">,</span>
  <span class="s2">&quot;search_metadata&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;itemsPerPage&quot;</span><span class="p">:</span> <span class="s2">&quot;100&quot;</span><span class="p">,</span>
    <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="s2">&quot;100&quot;</span><span class="p">,</span>
    <span class="s2">&quot;count_twitter_all&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_twitter_new&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_backend&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;count_cache&quot;</span><span class="p">:</span> <span class="mi">211</span><span class="p">,</span>
    <span class="s2">&quot;hits&quot;</span><span class="p">:</span> <span class="mi">211</span><span class="p">,</span>
    <span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="s2">&quot;fossasia&quot;</span><span class="p">,</span>
    <span class="s2">&quot;client&quot;</span><span class="p">:</span> <span class="s2">&quot;0:0:0:0:0:0:0:1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">34</span><span class="p">,</span>
    <span class="s2">&quot;servicereduction&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;index&quot;</span><span class="p">:</span> <span class="s2">&quot;messages&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;statuses&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-07-23T13:25:33.795Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-03-25T01:09:45.000Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;screen_name&quot;</span><span class="p">:</span> <span class="s2">&quot;fossasia&quot;</span><span class="p">,</span>
      <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Become a #FOSSASIA #GSoC student! Application deadline ~20 hours: 25 March 19:00 UTC https://developers.google.com/open-source/gsoc/ @hpdang https://pic.twitter.com/IIGYXgpJ38&quot;</span><span class="p">,</span>
      <span class="s2">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;https://twitter.com/fossasia/status/713170978025504768&quot;</span><span class="p">,</span>
      <span class="s2">&quot;id_str&quot;</span><span class="p">:</span> <span class="s2">&quot;713170978025504768&quot;</span><span class="p">,</span>
      <span class="s2">&quot;source_type&quot;</span><span class="p">:</span> <span class="s2">&quot;TWITTER&quot;</span><span class="p">,</span>
      <span class="s2">&quot;provider_type&quot;</span><span class="p">:</span> <span class="s2">&quot;SCRAPED&quot;</span><span class="p">,</span>
      <span class="s2">&quot;retweet_count&quot;</span><span class="p">:</span> <span class="mi">27</span><span class="p">,</span>
      <span class="s2">&quot;favourites_count&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
      <span class="s2">&quot;images&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;https://pic.twitter.com/IIGYXgpJ38&quot;</span><span class="p">],</span>
      <span class="s2">&quot;images_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;audio&quot;</span><span class="p">:</span> <span class="p">[],</span>
      <span class="s2">&quot;audio_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;videos&quot;</span><span class="p">:</span> <span class="p">[],</span>
      <span class="s2">&quot;videos_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;place_name&quot;</span><span class="p">:</span> <span class="s2">&quot;March&quot;</span><span class="p">,</span>
      <span class="s2">&quot;place_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;place_context&quot;</span><span class="p">:</span> <span class="s2">&quot;FROM&quot;</span><span class="p">,</span>
      <span class="s2">&quot;place_country&quot;</span><span class="p">:</span> <span class="s2">&quot;United Kingdom&quot;</span><span class="p">,</span>
      <span class="s2">&quot;place_country_code&quot;</span><span class="p">:</span> <span class="s2">&quot;GB&quot;</span><span class="p">,</span>
      <span class="s2">&quot;place_country_center&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">-</span><span class="mf">4.696459893461537</span><span class="p">,</span>
        <span class="mf">30.077280001750808</span>
      <span class="p">],</span>
      <span class="s2">&quot;location_point&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mf">0.08827996444341579</span><span class="p">,</span>
        <span class="mf">52.55131132553856</span>
      <span class="p">],</span>
      <span class="s2">&quot;location_radius&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;location_mark&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mf">0.0831126359772881</span><span class="p">,</span>
        <span class="mf">52.54923050316976</span>
      <span class="p">],</span>
      <span class="s2">&quot;location_source&quot;</span><span class="p">:</span> <span class="s2">&quot;PLACE&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hosts&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;developers.google.com&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pic.twitter.com&quot;</span>
      <span class="p">],</span>
      <span class="s2">&quot;hosts_count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;links&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;https://developers.google.com/open-source/gsoc/&quot;</span><span class="p">,</span>
        <span class="s2">&quot;https://pic.twitter.com/IIGYXgpJ38&quot;</span>
      <span class="p">],</span>
      <span class="s2">&quot;links_count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;mentions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;hpdang&quot;</span><span class="p">],</span>
      <span class="s2">&quot;mentions_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;hashtags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;fossasia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gsoc&quot;</span>
      <span class="p">],</span>
      <span class="s2">&quot;hashtags_count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;classifier_emotion&quot;</span><span class="p">:</span> <span class="s2">&quot;joy&quot;</span><span class="p">,</span>
      <span class="s2">&quot;classifier_emotion_probability&quot;</span><span class="p">:</span> <span class="mf">2.4644330223466497E-22</span><span class="p">,</span>
      <span class="s2">&quot;classifier_language&quot;</span><span class="p">:</span> <span class="s2">&quot;english&quot;</span><span class="p">,</span>
      <span class="s2">&quot;classifier_language_probability&quot;</span><span class="p">:</span> <span class="mf">6.620603696388408E-20</span><span class="p">,</span>
      <span class="s2">&quot;without_l_len&quot;</span><span class="p">:</span> <span class="mi">92</span><span class="p">,</span>
      <span class="s2">&quot;without_lu_len&quot;</span><span class="p">:</span> <span class="mi">84</span><span class="p">,</span>
      <span class="s2">&quot;without_luh_len&quot;</span><span class="p">:</span> <span class="mi">68</span><span class="p">,</span>
      <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;appearance_first&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-07-23T13:25:33.809Z&quot;</span><span class="p">,</span>
        <span class="s2">&quot;profile_image_url_https&quot;</span><span class="p">:</span> <span class="s2">&quot;https://pbs.twimg.com/profile_images/1141238022/fossasia-cubelogo_bigger.jpg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;screen_name&quot;</span><span class="p">:</span> <span class="s2">&quot;fossasia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="s2">&quot;157702526&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;FOSSASIA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;appearance_latest&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-07-23T13:25:33.809Z&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-06-19T09:37:37.365Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-03-19T06:37:30.000Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;screen_name&quot;</span><span class="p">:</span> <span class="s2">&quot;fossasia&quot;</span><span class="p">,</span>
      <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;#FOSSASIA 2016&#39;s group photo is out! :D THANK YOU FOR JOINING! #opensource #redhat #linux @opensourceway #nosql https://pic.twitter.com/VmOfUkdzg8&quot;</span><span class="p">,</span>
      <span class="s2">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;https://twitter.com/fossasia/status/711079128221396993&quot;</span><span class="p">,</span>
      <span class="s2">&quot;id_str&quot;</span><span class="p">:</span> <span class="s2">&quot;711079128221396993&quot;</span><span class="p">,</span>
      <span class="s2">&quot;source_type&quot;</span><span class="p">:</span> <span class="s2">&quot;TWITTER&quot;</span><span class="p">,</span>
      <span class="s2">&quot;provider_type&quot;</span><span class="p">:</span> <span class="s2">&quot;SCRAPED&quot;</span><span class="p">,</span>
      <span class="s2">&quot;retweet_count&quot;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
      <span class="s2">&quot;favourites_count&quot;</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span>
      <span class="s2">&quot;images&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;https://pic.twitter.com/VmOfUkdzg8&quot;</span><span class="p">],</span>
      <span class="s2">&quot;images_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;audio&quot;</span><span class="p">:</span> <span class="p">[],</span>
      <span class="s2">&quot;audio_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;videos&quot;</span><span class="p">:</span> <span class="p">[],</span>
      <span class="s2">&quot;videos_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;place_name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;place_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;place_context&quot;</span><span class="p">:</span> <span class="s2">&quot;ABOUT&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hosts&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;pic.twitter.com&quot;</span><span class="p">],</span>
      <span class="s2">&quot;hosts_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;links&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;https://pic.twitter.com/VmOfUkdzg8&quot;</span><span class="p">],</span>
      <span class="s2">&quot;links_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;mentions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;opensourceway&quot;</span><span class="p">],</span>
      <span class="s2">&quot;mentions_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;hashtags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;fossasia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;opensource&quot;</span><span class="p">,</span>
        <span class="s2">&quot;redhat&quot;</span><span class="p">,</span>
        <span class="s2">&quot;linux&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nosql&quot;</span>
      <span class="p">],</span>
      <span class="s2">&quot;hashtags_count&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
      <span class="s2">&quot;classifier_emotion&quot;</span><span class="p">:</span> <span class="s2">&quot;joy&quot;</span><span class="p">,</span>
      <span class="s2">&quot;classifier_emotion_probability&quot;</span><span class="p">:</span> <span class="mf">4.249905094787197E-18</span><span class="p">,</span>
      <span class="s2">&quot;classifier_language&quot;</span><span class="p">:</span> <span class="s2">&quot;english&quot;</span><span class="p">,</span>
      <span class="s2">&quot;classifier_language_probability&quot;</span><span class="p">:</span> <span class="mf">2.3849911989795255E-16</span><span class="p">,</span>
      <span class="s2">&quot;without_l_len&quot;</span><span class="p">:</span> <span class="mi">111</span><span class="p">,</span>
      <span class="s2">&quot;without_lu_len&quot;</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span>
      <span class="s2">&quot;without_luh_len&quot;</span><span class="p">:</span> <span class="mi">52</span><span class="p">,</span>
      <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;appearance_first&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-07-23T13:25:33.809Z&quot;</span><span class="p">,</span>
        <span class="s2">&quot;profile_image_url_https&quot;</span><span class="p">:</span> <span class="s2">&quot;https://pbs.twimg.com/profile_images/1141238022/fossasia-cubelogo_bigger.jpg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;screen_name&quot;</span><span class="p">:</span> <span class="s2">&quot;fossasia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="s2">&quot;157702526&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;FOSSASIA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;appearance_latest&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-07-23T13:25:33.809Z&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-07-23T13:25:33.794Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-06-23T07:43:31.000Z&quot;</span><span class="p">,</span>
      <span class="s2">&quot;screen_name&quot;</span><span class="p">:</span> <span class="s2">&quot;fossasia&quot;</span><span class="p">,</span>
      <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;We love the @redhatopen #Developer #Portal Thanks for sharing it at #FOSSASIA https://developers.redhat.com/auth/realms/rhd/protocol/openid-connect/registrations?client_id=web&amp;redirect_uri=http%3a</span><span class="si">%2f%2f</span><span class="s2">developers.redhat.com</span><span class="si">%2f</span><span class="s2">confirmation&amp;state=707feed6-2bd7-4cbd-8076-6da431b952ed&amp;response_type=code&amp;sc_cid=70160000000q5gAAAQ&amp;elqTrackId=4dbc7819a1a74e59af32f4a534e5a9cd&amp;elq=4999a526808d4ff0a7a6c73cfa6fe06c&amp;elqaid=26078&amp;elqat=1&amp;elqCampaignId=107211 @harishpillay https://pic.twitter.com/YiV3NqQAIR&quot;</span><span class="p">,</span>
      <span class="s2">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;https://twitter.com/fossasia/status/745884978777587713&quot;</span><span class="p">,</span>
      <span class="s2">&quot;id_str&quot;</span><span class="p">:</span> <span class="s2">&quot;745884978777587713&quot;</span><span class="p">,</span>
      <span class="s2">&quot;source_type&quot;</span><span class="p">:</span> <span class="s2">&quot;TWITTER&quot;</span><span class="p">,</span>
      <span class="s2">&quot;provider_type&quot;</span><span class="p">:</span> <span class="s2">&quot;SCRAPED&quot;</span><span class="p">,</span>
      <span class="s2">&quot;retweet_count&quot;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
      <span class="s2">&quot;favourites_count&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
      <span class="s2">&quot;images&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;https://pic.twitter.com/YiV3NqQAIR&quot;</span><span class="p">],</span>
      <span class="s2">&quot;images_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;audio&quot;</span><span class="p">:</span> <span class="p">[],</span>
      <span class="s2">&quot;audio_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;videos&quot;</span><span class="p">:</span> <span class="p">[],</span>
      <span class="s2">&quot;videos_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;place_name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;place_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;place_context&quot;</span><span class="p">:</span> <span class="s2">&quot;ABOUT&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hosts&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;developers.redhat.com&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pic.twitter.com&quot;</span>
      <span class="p">],</span>
      <span class="s2">&quot;hosts_count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;links&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;https://developers.redhat.com/auth/realms/rhd/protocol/openid-connect/registrations?client_id=web&amp;redirect_uri=http%3a</span><span class="si">%2f%2f</span><span class="s2">developers.redhat.com</span><span class="si">%2f</span><span class="s2">confirmation&amp;state=707feed6-2bd7-4cbd-8076-6da431b952ed&amp;response_type=code&amp;sc_cid=70160000000q5gAAAQ&amp;elqTrackId=4dbc7819a1a74e59af32f4a534e5a9cd&amp;elq=4999a526808d4ff0a7a6c73cfa6fe06c&amp;elqaid=26078&amp;elqat=1&amp;elqCampaignId=107211&quot;</span><span class="p">,</span>
        <span class="s2">&quot;https://pic.twitter.com/YiV3NqQAIR&quot;</span>
      <span class="p">],</span>
      <span class="s2">&quot;links_count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;mentions&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;redhatopen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;harishpillay&quot;</span>
      <span class="p">],</span>
      <span class="s2">&quot;mentions_count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;hashtags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;developer&quot;</span><span class="p">,</span>
        <span class="s2">&quot;portal&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fossasia&quot;</span>
      <span class="p">],</span>
      <span class="s2">&quot;hashtags_count&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
      <span class="s2">&quot;classifier_language&quot;</span><span class="p">:</span> <span class="s2">&quot;english&quot;</span><span class="p">,</span>
      <span class="s2">&quot;classifier_language_probability&quot;</span><span class="p">:</span> <span class="mf">4.634340188089729E-28</span><span class="p">,</span>
      <span class="s2">&quot;classifier_profanity&quot;</span><span class="p">:</span> <span class="s2">&quot;sex&quot;</span><span class="p">,</span>
      <span class="s2">&quot;classifier_profanity_probability&quot;</span><span class="p">:</span> <span class="mf">9.00210576209998E-30</span><span class="p">,</span>
      <span class="s2">&quot;without_l_len&quot;</span><span class="p">:</span> <span class="mi">91</span><span class="p">,</span>
      <span class="s2">&quot;without_lu_len&quot;</span><span class="p">:</span> <span class="mi">65</span><span class="p">,</span>
      <span class="s2">&quot;without_luh_len&quot;</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span>
      <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;appearance_first&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-07-23T13:25:33.809Z&quot;</span><span class="p">,</span>
        <span class="s2">&quot;profile_image_url_https&quot;</span><span class="p">:</span> <span class="s2">&quot;https://pbs.twimg.com/profile_images/1141238022/fossasia-cubelogo_bigger.jpg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;screen_name&quot;</span><span class="p">:</span> <span class="s2">&quot;fossasia&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="s2">&quot;157702526&quot;</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;FOSSASIA&quot;</span><span class="p">,</span>
        <span class="s2">&quot;appearance_latest&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-07-23T13:25:33.809Z&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;aggregations&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Please note that the times given here as since- und until modifiers as well as the histogram dates are shifted by -120 minutes as given in the timezoneOffset attribute. This makes it possible to pass that attribute from a browser which knows the actual time zone of the web front-end user and modify search attributes and result times according to the localized time of the user.</p>
</div>
<div class="section" id="api-suggest-json">
<span id="api-suggest-json"></span><h2>/api/suggest.json<a class="headerlink" href="#api-suggest-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">API</span> <span class="n">has</span> <span class="n">access</span> <span class="n">limitations</span><span class="p">:</span> <span class="n">localhost</span> <span class="n">clients</span> <span class="n">are</span> <span class="n">granted</span> <span class="n">more</span> <span class="n">data</span> <span class="n">than</span> <span class="n">public</span> <span class="n">clients</span><span class="o">.</span>
</pre></div>
</div>
<p>All search queries are recorded to be able to provide a suggestion function based on previous search requests. No IP addresses are stored together with the query term. The suggest.json API is basically a search interface on query terms with special order options. Queries on search terms are applied on index terms using a fuzzy matching algorithm. The result can be ordered by time (actuality) or by the number of appearances of the same query (popularity).</p>
<p>A special search term is only allowed for localhost access: the empty search term. This will list all queries so far according to the given result order. It is possible to order by first query time, latest query time, number of times a user submitted a query, number of Tweets per day estimated by the latest query result and much more. Examples:</p>
<ul class="simple">
<li><a class="reference external" href="http://localhost:9000/api/suggest.json?q=soj&amp;orderby=query_count">http://localhost:9000/api/suggest.json?q=soj&amp;orderby=query_count</a></li>
<li><a class="reference external" href="http://localhost:9000/api/suggest.json?count=20&amp;order=asc">http://localhost:9000/api/suggest.json?count=20&amp;order=asc</a></li>
<li><a class="reference external" href="http://localhost:9000/api/suggest.json?count=20&amp;order=desc">http://localhost:9000/api/suggest.json?count=20&amp;order=desc</a></li>
<li><a class="reference external" href="http://localhost:9000/api/suggest.json?count=20&amp;orderby=messages_per_day&amp;order=desc">http://localhost:9000/api/suggest.json?count=20&amp;orderby=messages_per_day&amp;order=desc</a></li>
<li><a class="reference external" href="http://localhost:9000/api/suggest.json?until=now&amp;selectby=retrieval_next&amp;orderby=retrieval_next&amp;order=desc">http://localhost:9000/api/suggest.json?until=now&amp;selectby=retrieval_next&amp;orderby=retrieval_next&amp;order=desc</a></li>
<li><a class="reference external" href="http://localhost:9000/api/suggest.json?q=&amp;timezoneOffset=-60&amp;count=90&amp;source=query&amp;order=asc&amp;orderby=retrieval_next&amp;until=now&amp;selectby=retrieval_next&amp;random=3&amp;minified=true&amp;port.http=9000&amp;port.https=9443&amp;peername=anonymous">http://localhost:9000/api/suggest.json?q=&amp;timezoneOffset=-60&amp;count=90&amp;source=query&amp;order=asc&amp;orderby=retrieval_next&amp;until=now&amp;selectby=retrieval_next&amp;random=3&amp;minified=true&amp;port.http=9000&amp;port.https=9443&amp;peername=anonymous</a></li>
</ul>
<p>Delete operations are also possible for localhost clients by simply adding a delete=true to the call properties. This will produce a result set like without the delete property, but all data shown are deleted afterwards.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">count</span>             <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">-</span><span class="n">value</span><span class="o">&gt;</span>   <span class="o">//</span> <span class="n">number</span> <span class="n">of</span> <span class="n">queries</span>
<span class="n">q</span>                 <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>      <span class="o">//</span> <span class="n">to</span> <span class="n">get</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">queries</span> <span class="n">which</span> <span class="n">match</span><span class="p">;</span> <span class="n">to</span> <span class="n">get</span> <span class="nb">all</span> <span class="n">latest</span><span class="p">:</span> <span class="n">leave</span> <span class="n">q</span> <span class="n">empty</span>
<span class="n">source</span>            <span class="o">=</span> <span class="o">&lt;</span><span class="n">constant</span><span class="o">&gt;</span>    <span class="o">//</span> <span class="n">possible</span> <span class="n">values</span><span class="p">:</span> <span class="nb">all</span><span class="p">,</span><span class="n">query</span><span class="p">,</span><span class="n">geo</span><span class="p">;</span> <span class="n">default</span><span class="p">:</span><span class="nb">all</span>
<span class="n">order</span>             <span class="o">=</span> <span class="o">&lt;</span><span class="n">constant</span><span class="o">&gt;</span>    <span class="o">//</span> <span class="n">possible</span> <span class="n">values</span><span class="p">:</span> <span class="n">desc</span><span class="p">,</span> <span class="n">asc</span><span class="p">;</span> <span class="n">default</span><span class="p">:</span> <span class="n">desc</span>
<span class="n">orderby</span>           <span class="o">=</span> <span class="o">&lt;</span><span class="n">constant</span><span class="o">&gt;</span>    <span class="o">//</span> <span class="n">a</span> <span class="n">field</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">query</span> <span class="n">index</span> <span class="n">schema</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span> <span class="n">retrieval_next</span> <span class="ow">or</span> <span class="n">query_count</span>
<span class="n">timezoneOffset</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>         <span class="o">//</span> <span class="n">the</span> <span class="n">time</span> <span class="n">zone</span> <span class="n">offset</span> <span class="ow">in</span> <span class="n">minutes</span>
<span class="n">since</span>             <span class="o">=</span> <span class="o">&lt;</span><span class="n">date</span><span class="o">&gt;</span>        <span class="o">//</span> <span class="n">left</span> <span class="n">bound</span> <span class="k">for</span> <span class="n">a</span> <span class="n">query</span> <span class="n">time</span>
<span class="n">until</span>             <span class="o">=</span> <span class="o">&lt;</span><span class="n">date</span><span class="o">&gt;</span>        <span class="o">//</span> <span class="n">right</span> <span class="n">bound</span> <span class="k">for</span> <span class="n">a</span> <span class="n">query</span> <span class="n">time</span>
<span class="n">minified</span>          <span class="o">=</span> <span class="o">&lt;</span><span class="n">boolean</span><span class="o">&gt;</span>     <span class="o">//</span> <span class="n">minify</span> <span class="n">the</span> <span class="n">result</span>
<span class="n">delete</span>            <span class="o">=</span> <span class="o">&lt;</span><span class="n">boolean</span><span class="o">&gt;</span>     <span class="o">//</span> <span class="n">delete</span> <span class="n">everything</span> <span class="n">which</span> <span class="ow">is</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">result</span> <span class="nb">set</span>
</pre></div>
</div>
<p>The result shows a list of queries in the given order. Additionally to the queries, &#8216;artificial&#8217; queries, generated by the location database, are attached as well. This API is therefore also a tool to generate location name suggestions.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;search_metadata&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;count&quot;</span> <span class="p">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hits&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;query&quot;</span> <span class="p">:</span> <span class="s2">&quot;soj&quot;</span><span class="p">,</span>
    <span class="s2">&quot;order&quot;</span> <span class="p">:</span> <span class="s2">&quot;ASC&quot;</span><span class="p">,</span>
    <span class="s2">&quot;orderby&quot;</span> <span class="p">:</span> <span class="s2">&quot;query_count&quot;</span><span class="p">,</span>
    <span class="s2">&quot;client&quot;</span> <span class="p">:</span> <span class="s2">&quot;0:0:0:0:0:0:0:1&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;queries&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
    <span class="s2">&quot;query&quot;</span> <span class="p">:</span> <span class="s2">&quot;Sojapango&quot;</span><span class="p">,</span>
    <span class="s2">&quot;query_length&quot;</span> <span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="s2">&quot;source_type&quot;</span> <span class="p">:</span> <span class="s2">&quot;IMPORT&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timezoneOffset&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;query_first&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-07-24T16:44:11.145Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;retrieval_last&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-07-24T16:44:11.145Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;retrieval_next&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-07-25T16:44:11.145Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;expected_next&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-07-25T04:44:11.145Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;query_count&quot;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;retrieval_count&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;message_period&quot;</span> <span class="p">:</span> <span class="mi">86400000</span><span class="p">,</span>
    <span class="s2">&quot;messages_per_day&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;score_retrieval&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;score_suggest&quot;</span> <span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="s2">&quot;query&quot;</span> <span class="p">:</span> <span class="s2">&quot;Soju&quot;</span><span class="p">,</span>
    <span class="s2">&quot;query_length&quot;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;source_type&quot;</span> <span class="p">:</span> <span class="s2">&quot;IMPORT&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timezoneOffset&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;query_first&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-07-24T16:44:11.145Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;retrieval_last&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-07-24T16:44:11.145Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;retrieval_next&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-07-25T16:44:11.145Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;expected_next&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-07-25T04:44:11.145Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;query_count&quot;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;retrieval_count&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;message_period&quot;</span> <span class="p">:</span> <span class="mi">86400000</span><span class="p">,</span>
    <span class="s2">&quot;messages_per_day&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;score_retrieval&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;score_suggest&quot;</span> <span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="s2">&quot;query&quot;</span> <span class="p">:</span> <span class="s2">&quot;Sojitra&quot;</span><span class="p">,</span>
    <span class="s2">&quot;query_length&quot;</span> <span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="s2">&quot;source_type&quot;</span> <span class="p">:</span> <span class="s2">&quot;IMPORT&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timezoneOffset&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;query_first&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-07-24T16:44:11.145Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;retrieval_last&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-07-24T16:44:11.145Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;retrieval_next&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-07-25T16:44:11.145Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;expected_next&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-07-25T04:44:11.145Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;query_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;retrieval_count&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;message_period&quot;</span> <span class="p">:</span> <span class="mi">86400000</span><span class="p">,</span>
    <span class="s2">&quot;messages_per_day&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;score_retrieval&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;score_suggest&quot;</span> <span class="p">:</span> <span class="mi">0</span>
  <span class="p">}</span> <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="api-crawler-json">
<span id="api-crawler-json"></span><h2>/api/crawler.json<a class="headerlink" href="#api-crawler-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">API</span> <span class="n">has</span> <span class="n">access</span> <span class="n">limitations</span><span class="p">:</span> <span class="n">localhost</span> <span class="n">clients</span> <span class="n">are</span> <span class="n">granted</span> <span class="n">more</span> <span class="n">data</span> <span class="n">than</span> <span class="n">public</span> <span class="n">clients</span><span class="o">.</span>
</pre></div>
</div>
<p>With the crawler servlet it is possible to retrieve mass-data from the search back-end, including the Twitter scraper. The crawler loads search results with a given set of query terms, extracts all the hashtags and user names from the result list and searches with those words again. Request properties are:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">start</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">terms</span><span class="p">,</span> <span class="n">comma</span><span class="o">-</span><span class="n">separated</span><span class="o">&gt;</span>  <span class="o">//</span> <span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span> <span class="n">start</span><span class="o">=</span><span class="n">fossasia</span><span class="p">,</span><span class="n">software</span>
<span class="n">depth</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">crawl</span> <span class="n">depth</span><span class="o">&gt;</span>             <span class="o">//</span> <span class="n">default</span> <span class="mi">0</span><span class="p">,</span> <span class="n">non</span><span class="o">-</span><span class="n">localhost</span> <span class="n">clients</span> <span class="n">may</span> <span class="n">only</span> <span class="nb">set</span> <span class="n">a</span> <span class="n">maximum</span> <span class="n">of</span> <span class="mi">1</span>
<span class="n">hashtags</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">true</span><span class="o">|</span><span class="n">false</span><span class="o">&gt;</span>              <span class="o">//</span> <span class="k">if</span> <span class="n">true</span> <span class="n">then</span> <span class="n">hashtags</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">results</span> <span class="n">are</span> <span class="n">used</span> <span class="k">for</span> <span class="n">the</span> <span class="nb">next</span> <span class="n">search</span> <span class="n">requests</span>
<span class="n">users</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">true</span><span class="o">|</span><span class="n">false</span><span class="o">&gt;</span>              <span class="o">//</span> <span class="k">if</span> <span class="n">true</span> <span class="n">then</span> <span class="n">user</span> <span class="n">names</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">results</span> <span class="n">are</span> <span class="n">used</span> <span class="k">for</span> <span class="n">the</span> <span class="nb">next</span> <span class="n">search</span> <span class="n">requests</span>
</pre></div>
</div>
<p>The crawler returns immediately with an object describing the index size (exactly the same as with the status servlets) and an object describing the crawler status:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;index_sizes&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;messages&quot;</span> <span class="p">:</span> <span class="mi">127154</span><span class="p">,</span>
    <span class="s2">&quot;users&quot;</span> <span class="p">:</span> <span class="mi">56347</span>
  <span class="p">},</span>
  <span class="s2">&quot;crawler_status&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;pending_size&quot;</span> <span class="p">:</span> <span class="mi">68</span><span class="p">,</span>
    <span class="s2">&quot;stacked_size&quot;</span> <span class="p">:</span> <span class="mi">72</span><span class="p">,</span>
    <span class="s2">&quot;processed_size&quot;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;pending&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;oVirt&quot;</span><span class="p">,</span> <span class="s2">&quot;repeatedly&quot;</span><span class="p">,</span> <span class="s2">&quot;FOSSAsia&quot;</span><span class="p">,</span> <span class="s2">&quot;FOSSASIA&quot;</span><span class="p">,</span> <span class="s2">&quot;RedHatJobs&quot;</span><span class="p">,</span> <span class="s2">&quot;shwetank&quot;</span><span class="p">,</span> <span class="s2">&quot;umnovnik&quot;</span><span class="p">,</span> <span class="s2">&quot;12geeks&quot;</span><span class="p">,</span> <span class="s2">&quot;TheTechScribe&quot;</span><span class="p">,</span> <span class="s2">&quot;HerwonoWr&quot;</span><span class="p">,</span> <span class="s2">&quot;ovirt&quot;</span><span class="p">,</span> <span class="s2">&quot;opensource&quot;</span><span class="p">,</span> <span class="s2">&quot;redhatopen&quot;</span><span class="p">,</span> <span class="s2">&quot;Virtualization&quot;</span><span class="p">,</span> <span class="s2">&quot;mishari&quot;</span><span class="p">,</span> <span class="s2">&quot;doron_f&quot;</span><span class="p">,</span> <span class="s2">&quot;penhleakchan&quot;</span><span class="p">,</span> <span class="s2">&quot;dionyziz&quot;</span><span class="p">,</span> <span class="s2">&quot;lilithlela&quot;</span><span class="p">,</span> <span class="s2">&quot;CLT2015&quot;</span><span class="p">,</span> <span class="s2">&quot;google&quot;</span><span class="p">,</span> <span class="s2">&quot;sparhopper&quot;</span><span class="p">,</span> <span class="s2">&quot;smokingwheels&quot;</span><span class="p">,</span> <span class="s2">&quot;JetLeak&quot;</span><span class="p">,</span> <span class="s2">&quot;ARQUEIRO_BR&quot;</span><span class="p">,</span> <span class="s2">&quot;Emil_Blume&quot;</span><span class="p">,</span> <span class="s2">&quot;catering&quot;</span><span class="p">,</span> <span class="s2">&quot;appropedia&quot;</span><span class="p">,</span> <span class="s2">&quot;connimark&quot;</span><span class="p">,</span> <span class="s2">&quot;hanshafner&quot;</span><span class="p">,</span> <span class="s2">&quot;free&quot;</span><span class="p">,</span> <span class="s2">&quot;bugfix&quot;</span><span class="p">,</span> <span class="s2">&quot;LordBexar&quot;</span><span class="p">,</span> <span class="s2">&quot;coloofrm&quot;</span><span class="p">,</span> <span class="s2">&quot;Technovelgy&quot;</span><span class="p">,</span> <span class="s2">&quot;erikandgo&quot;</span><span class="p">,</span> <span class="s2">&quot;onboard&quot;</span><span class="p">,</span> <span class="s2">&quot;SpaceX&quot;</span><span class="p">,</span> <span class="s2">&quot;TexasSpaceport&quot;</span><span class="p">,</span> <span class="s2">&quot;lukealization&quot;</span><span class="p">,</span> <span class="s2">&quot;space&quot;</span><span class="p">,</span> <span class="s2">&quot;Tako3ka&quot;</span><span class="p">,</span> <span class="s2">&quot;Mars&quot;</span><span class="p">,</span> <span class="s2">&quot;UrHRGuru&quot;</span><span class="p">,</span> <span class="s2">&quot;SpaceXNews&quot;</span><span class="p">,</span> <span class="s2">&quot;defense&quot;</span><span class="p">,</span> <span class="s2">&quot;_techstories&quot;</span><span class="p">,</span> <span class="s2">&quot;defense_dp&quot;</span><span class="p">,</span> <span class="s2">&quot;Scott_Allen&quot;</span><span class="p">,</span> <span class="s2">&quot;rtgstrf&quot;</span><span class="p">,</span> <span class="s2">&quot;canaldenoticias&quot;</span><span class="p">,</span> <span class="s2">&quot;GileJudy&quot;</span><span class="p">,</span> <span class="s2">&quot;NASA&quot;</span><span class="p">,</span> <span class="s2">&quot;Soyuz&quot;</span><span class="p">,</span> <span class="s2">&quot;justinrigodn&quot;</span><span class="p">,</span> <span class="s2">&quot;ISS&quot;</span><span class="p">,</span> <span class="s2">&quot;letsnurture&quot;</span><span class="p">,</span> <span class="s2">&quot;BlerdTurd&quot;</span><span class="p">,</span> <span class="s2">&quot;econdev&quot;</span><span class="p">,</span> <span class="s2">&quot;PSBJ&quot;</span><span class="p">,</span> <span class="s2">&quot;TheRealBuzz&quot;</span><span class="p">,</span> <span class="s2">&quot;canalnews&quot;</span><span class="p">,</span> <span class="s2">&quot;PappalardoJoe&quot;</span><span class="p">,</span> <span class="s2">&quot;kdurhamevntse&quot;</span><span class="p">,</span> <span class="s2">&quot;Patrick_S101&quot;</span><span class="p">,</span> <span class="s2">&quot;Tesla&quot;</span><span class="p">,</span> <span class="s2">&quot;EntreGulss&quot;</span><span class="p">,</span> <span class="s2">&quot;US4USA&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;processed&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;spacex&quot;</span><span class="p">,</span> <span class="s2">&quot;yacy_search&quot;</span><span class="p">,</span> <span class="s2">&quot;singapore&quot;</span><span class="p">,</span> <span class="s2">&quot;fossasia&quot;</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="api-hello-json">
<span id="api-hello-json"></span><h2>/api/hello.json<a class="headerlink" href="#api-hello-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>This API is open and can be accessed without any restrictions!
</pre></div>
</div>
<p>The hello servlet is part of the loklak peer-to-peer bootstrap process and shall be used to announce that a new client has been started up. The hello request is done automatically after a loklak startup against the loklak backend as configured in the settings in field backend. The back-end server then does not return any data, just an &#8216;ok&#8217; string object.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">callback</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="o">//</span> <span class="n">jsonp</span> <span class="n">callback</span> <span class="n">function</span> <span class="n">name</span>
</pre></div>
</div>
<p>The result is always:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;status&quot;</span> <span class="p">:</span> <span class="s2">&quot;ok&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>loklak does not collect IP addresses on API interfaces where user data is collected. However, to make a peer-to-peer system possible, the collection on APIs where no user data is submitted, is necessary. The most simple API where no data is submitted at all would be most appropriate for the IP collection. That is why this API exists, because it does not take any request option and it does not deliver any specific data.</p>
<p>IPs, collected by this method is retrievable with the peers.json API. If a loklak user does not want that the IP addresses move along a p2p network, then simply the field backend in the configuration must be empty.</p>
</div>
<div class="section" id="api-geocode-json">
<span id="api-geocode-json"></span><h2>/api/geocode.json<a class="headerlink" href="#api-geocode-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>This API is open and can be accessed without any restrictions!
</pre></div>
</div>
<p>This servlet provides geocoding of place names to location coordinates and also reverse geocoding of location coordinates to place names. Additionally to the added geocoding servlet: you can geocode place names into locations with this. To render markers, use the &#8216;mark&#8217; location (they have an applied fuzziness). location coordinates are given as [lon,lat] Example usage:</p>
<ul class="simple">
<li><a class="reference external" href="http://api.loklak.org/api/geocode.json?data={%22places%22:[%22Frankfurt%20am%20Main%22,%22New%20York%22,%22Singapore%22]}">http://api.loklak.org/api/geocode.json?data={%22places%22:[%22Frankfurt%20am%20Main%22,%22New%20York%22,%22Singapore%22]}</a></li>
<li>Other languages:
<a class="reference external" href="http://api.loklak.org/api/geocode.json?data={%22places%22:[%22%E5%9C%A3%E8%83%A1%E5%88%A9%E5%A8%85%20%E5%BE%B7%E6%B4%9B%E9%87%8C%E4%BA%9A%22]}">http://api.loklak.org/api/geocode.json?data={%22places%22:[%22%E5%9C%A3%E8%83%A1%E5%88%A9%E5%A8%85%20%E5%BE%B7%E6%B4%9B%E9%87%8C%E4%BA%9A%22]}</a></li>
<li>Multiple Cities:<a class="reference external" href="http://api.loklak.org/api/geocode.json?minified=true&amp;data={%22places%22:[%22Singapore%22,%20%22New%20York%22,%20%22Los%20Angeles%22]}">http://api.loklak.org/api/geocode.json?minified=true&amp;data={%22places%22:[%22Singapore%22,%20%22New%20York%22,%20%22Los%20Angeles%22]}</a></li>
</ul>
<p>upgrade to geocode location detection: now recognizes also all alternative (different languages) place names. The geocode servlet shows all those alternative names in a string array. The minified version shortens this array to only one entry. The API also has reverse geocoding and fuzziness for marker computation.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">callback</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>                   <span class="o">//</span> <span class="n">jsonp</span> <span class="n">callback</span> <span class="n">function</span> <span class="n">name</span>
<span class="n">minified</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">boolean</span><span class="o">&gt;</span>                  <span class="o">//</span> <span class="nb">set</span> <span class="n">true</span> <span class="n">to</span> <span class="n">minify</span>
<span class="n">places</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">comma</span><span class="o">-</span><span class="n">separated</span> <span class="n">strings</span><span class="o">&gt;</span>  <span class="o">//</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">place</span> <span class="n">names</span>
<span class="n">data</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">json</span><span class="o">&gt;</span>                     <span class="o">//</span> <span class="n">the</span> <span class="n">json</span> <span class="n">must</span> <span class="n">contain</span> <span class="n">a</span> <span class="s1">&#39;places&#39;</span> <span class="nb">property</span> <span class="k">with</span> <span class="n">an</span> <span class="n">array</span> <span class="n">of</span> <span class="n">place</span> <span class="n">name</span> <span class="n">strings</span><span class="o">.</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">alernative</span> <span class="n">to</span> <span class="n">the</span> <span class="s1">&#39;places&#39;</span> <span class="nb">property</span><span class="o">.</span>
</pre></div>
</div>
<p>Result-Description</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;locations&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;Singapore&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;place&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;Singapore&quot;</span><span class="p">,</span> <span class="s2">&quot;SIN&quot;</span><span class="p">,</span> <span class="s2">&quot;Sin-ka-po&quot;</span><span class="p">,</span> <span class="s2">&quot;Singapore City&quot;</span><span class="p">,</span> <span class="s2">&quot;Singapour&quot;</span><span class="p">,</span> <span class="s2">&quot;Singapur&quot;</span><span class="p">,</span> <span class="s2">&quot;Singapura&quot;</span><span class="p">,</span> <span class="s2">&quot;Sinkapoure&quot;</span><span class="p">,</span> <span class="s2">&quot;Sîn-kâ-po&quot;</span><span class="p">,</span> <span class="s2">&quot;Tumasik&quot;</span><span class="p">,</span> <span class="s2">&quot;cinkappur&quot;</span><span class="p">,</span> <span class="s2">&quot;prathes singkhpor&quot;</span><span class="p">,</span> <span class="s2">&quot;shingaporu&quot;</span><span class="p">,</span> <span class="s2">&quot;sigapura&quot;</span><span class="p">,</span> <span class="s2">&quot;sing-gapol&quot;</span><span class="p">,</span> <span class="s2">&quot;sing-gapoleu&quot;</span><span class="p">,</span> <span class="s2">&quot;singapura&quot;</span><span class="p">,</span> <span class="s2">&quot;singkh por&quot;</span><span class="p">,</span> <span class="s2">&quot;sngapwr&quot;</span><span class="p">,</span> <span class="s2">&quot;snghafwrt&quot;</span><span class="p">,</span> <span class="s2">&quot;syngpwr&quot;</span><span class="p">,</span> <span class="s2">&quot;xin jia po&quot;</span><span class="p">,</span> <span class="s2">&quot;xing jia po&quot;</span><span class="p">,</span> <span class="s2">&quot;Σιγκαπούρη&quot;</span><span class="p">,</span> <span class="s2">&quot;Сингапур&quot;</span><span class="p">,</span> <span class="s2">&quot;Сінгапур&quot;</span><span class="p">,</span> <span class="s2">&quot;סינגפור&quot;</span><span class="p">,</span> <span class="s2">&quot;سنغافورة&quot;</span><span class="p">,</span> <span class="s2">&quot;سنگاپور&quot;</span><span class="p">,</span> <span class="s2">&quot;सिंगापुर&quot;</span><span class="p">,</span> <span class="s2">&quot;सिंगापूर&quot;</span><span class="p">,</span> <span class="s2">&quot;ਸਿੰਗਾਪੁਰ&quot;</span><span class="p">,</span> <span class="s2">&quot;சிங்கப்பூர்&quot;</span><span class="p">,</span> <span class="s2">&quot;ประเทศสิงคโปร์&quot;</span><span class="p">,</span> <span class="s2">&quot;สิงค์โปร&quot;</span><span class="p">,</span> <span class="s2">&quot;ປະເທດສງກະໂປ&quot;</span><span class="p">,</span> <span class="s2">&quot;ປະເທດສິງກະໂປ&quot;</span><span class="p">,</span> <span class="s2">&quot;စငကာပနငင&quot;</span><span class="p">,</span> <span class="s2">&quot;စင်ကာပူနိုင်ငံ&quot;</span><span class="p">,</span> <span class="s2">&quot;សងហបរ&quot;</span><span class="p">,</span> <span class="s2">&quot;សិង្ហបុរី&quot;</span><span class="p">,</span> <span class="s2">&quot;シンガポール&quot;</span><span class="p">,</span> <span class="s2">&quot;新加坡&quot;</span><span class="p">,</span> <span class="s2">&quot;星架坡&quot;</span><span class="p">,</span> <span class="s2">&quot;싱가포르&quot;</span><span class="p">,</span> <span class="s2">&quot;싱가폴&quot;</span> <span class="p">],</span>
      <span class="s2">&quot;population&quot;</span> <span class="p">:</span> <span class="mi">3547809</span><span class="p">,</span>
      <span class="s2">&quot;country_code&quot;</span> <span class="p">:</span> <span class="s2">&quot;SG&quot;</span><span class="p">,</span>
      <span class="s2">&quot;country&quot;</span> <span class="p">:</span> <span class="s2">&quot;Singapore&quot;</span><span class="p">,</span>
      <span class="s2">&quot;location&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="mf">103.85006683126556</span><span class="p">,</span> <span class="mf">1.2896698812440377</span> <span class="p">],</span>
      <span class="s2">&quot;mark&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="mf">103.86065693202819</span><span class="p">,</span> <span class="mf">1.2871885668277656</span> <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="api-peers-json">
<span id="api-peers-json"></span><h2>/api/peers.json<a class="headerlink" href="#api-peers-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>This API is open and can be accessed without any restrictions!
</pre></div>
</div>
<p>This servlet combined the result of the hello calls from all peers and provides a list of addresses where the remote peers can be accessed.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;peers&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
    <span class="s2">&quot;class&quot;</span> <span class="p">:</span> <span class="s2">&quot;SuggestServlet&quot;</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span> <span class="p">:</span> <span class="s2">&quot;134.168.3.224&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port.http&quot;</span> <span class="p">:</span> <span class="mi">80</span><span class="p">,</span>
    <span class="s2">&quot;port.https&quot;</span> <span class="p">:</span> <span class="mi">443</span><span class="p">,</span>
    <span class="s2">&quot;lastSeen&quot;</span> <span class="p">:</span> <span class="mi">1461655070398</span><span class="p">,</span>
    <span class="s2">&quot;lastPath&quot;</span> <span class="p">:</span> <span class="s2">&quot;/api/suggest.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;peername&quot;</span> <span class="p">:</span> <span class="s2">&quot;anonymous&quot;</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="s2">&quot;class&quot;</span> <span class="p">:</span> <span class="s2">&quot;SuggestServlet&quot;</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span> <span class="p">:</span> <span class="s2">&quot;134.168.3.217&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port.http&quot;</span> <span class="p">:</span> <span class="mi">80</span><span class="p">,</span>
    <span class="s2">&quot;port.https&quot;</span> <span class="p">:</span> <span class="mi">443</span><span class="p">,</span>
    <span class="s2">&quot;lastSeen&quot;</span> <span class="p">:</span> <span class="mi">1461654681535</span><span class="p">,</span>
    <span class="s2">&quot;lastPath&quot;</span> <span class="p">:</span> <span class="s2">&quot;/api/suggest.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;peername&quot;</span> <span class="p">:</span> <span class="s2">&quot;anonymous&quot;</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="s2">&quot;class&quot;</span> <span class="p">:</span> <span class="s2">&quot;SuggestServlet&quot;</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span> <span class="p">:</span> <span class="s2">&quot;78.47.93.176&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port.http&quot;</span> <span class="p">:</span> <span class="mi">9000</span><span class="p">,</span>
    <span class="s2">&quot;port.https&quot;</span> <span class="p">:</span> <span class="mi">9443</span><span class="p">,</span>
    <span class="s2">&quot;lastSeen&quot;</span> <span class="p">:</span> <span class="mi">1461655043101</span><span class="p">,</span>
    <span class="s2">&quot;lastPath&quot;</span> <span class="p">:</span> <span class="s2">&quot;/api/suggest.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;peername&quot;</span> <span class="p">:</span> <span class="s2">&quot;anonymous&quot;</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="s2">&quot;class&quot;</span> <span class="p">:</span> <span class="s2">&quot;SuggestServlet&quot;</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span> <span class="p">:</span> <span class="s2">&quot;134.168.3.227&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port.http&quot;</span> <span class="p">:</span> <span class="mi">80</span><span class="p">,</span>
    <span class="s2">&quot;port.https&quot;</span> <span class="p">:</span> <span class="mi">443</span><span class="p">,</span>
    <span class="s2">&quot;lastSeen&quot;</span> <span class="p">:</span> <span class="mi">1461654988168</span><span class="p">,</span>
    <span class="s2">&quot;lastPath&quot;</span> <span class="p">:</span> <span class="s2">&quot;/api/suggest.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;peername&quot;</span> <span class="p">:</span> <span class="s2">&quot;anonymous&quot;</span>
  <span class="p">}</span> <span class="p">],</span>
  <span class="s2">&quot;count&quot;</span> <span class="p">:</span> <span class="mi">4</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="api-proxy-json">
<span id="api-proxy-json"></span><h2>/api/proxy.json<a class="headerlink" href="#api-proxy-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">API</span> <span class="n">has</span> <span class="n">access</span> <span class="n">restrictions</span><span class="p">:</span> <span class="n">only</span> <span class="n">localhost</span> <span class="n">clients</span> <span class="n">are</span> <span class="n">granted</span><span class="o">.</span>
</pre></div>
</div>
<p>Either a URL or a screen_name can be passed to the API, or both. The proxy.json loads the URL and returns the content. If a screen_name is given, the url content is stored in a cache related to the given screen_name. If only the screen_name and no URL is given, the proxy returns the image of that user. If only a URL is given, the proxy.json tries to identify the url as user- related and loads the content. To retrieve an image, there are three possible paths: /api/proxy.gif, /api/proxy.png, or /api/proxy.jpg. This API supports both GET and POST requests. The HTTP GET or POST request has these attributes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="o">//</span> <span class="n">the</span> <span class="n">public</span> <span class="n">url</span> <span class="n">of</span> <span class="n">the</span> <span class="n">data</span> <span class="n">source</span><span class="o">.</span> <span class="n">This</span> <span class="n">URL</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">load</span> <span class="n">the</span> <span class="n">content</span><span class="o">.</span>
<span class="n">screen_name</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="o">//</span> <span class="n">importer</span> <span class="n">screen</span> <span class="n">name</span>
</pre></div>
</div>
<p>Example</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;screen_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;loklak_app&quot;</span><span class="p">;</span>
  <span class="s2">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;https://pbs.twimg.com/profile_images/577512240640733184/fizL4YIn_bigger.png&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Retrieval of the image</p>
<p><a class="reference external" href="http://localhost:9000/api/proxy.png?screen_name=loklak_app&amp;url=https://pbs.twimg.com/profile_images/577512240640733184/fizL4YIn_bigger.png">http://localhost:9000/api/proxy.png?screen_name=loklak_app&amp;url=https://pbs.twimg.com/profile_images/577512240640733184/fizL4YIn_bigger.png</a></p>
</div>
<div class="section" id="api-push-json">
<span id="api-push-json"></span><h2>/api/push.json<a class="headerlink" href="#api-push-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">API</span> <span class="n">has</span> <span class="n">access</span> <span class="n">limitations</span><span class="p">:</span> <span class="n">localhost</span> <span class="n">clients</span> <span class="n">are</span> <span class="n">granted</span> <span class="n">more</span> <span class="n">data</span> <span class="n">than</span> <span class="n">public</span> <span class="n">clients</span><span class="o">.</span>
</pre></div>
</div>
<p>Whenever a peer acquires new Tweets, it reports these to the back-end for storage. Messages are first collected and bundled into HTTP POST requests to the back-end PUSH API. This servlet can only be requested with a POST request. The post must have only one attribute:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>    <span class="n">data</span>
     <span class="o">=</span> <span class="o">&lt;</span><span class="n">a</span> <span class="n">search</span> <span class="n">result</span> <span class="nb">object</span><span class="o">&gt;</span>
    <span class="o">//</span> <span class="n">push</span> <span class="n">the</span> <span class="n">same</span> <span class="n">data</span> <span class="k">as</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">returned</span> <span class="k">with</span> <span class="n">search</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>The servlet returns with</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;status&quot;</span> <span class="p">:</span> <span class="s2">&quot;ok&quot;</span><span class="p">,</span>
  <span class="s2">&quot;records&quot;</span> <span class="p">:</span> <span class="s2">&quot;100&quot;</span><span class="p">,</span>
  <span class="s2">&quot;new&quot;</span> <span class="p">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span>
  <span class="s2">&quot;known&quot;</span> <span class="p">:</span> <span class="s2">&quot;93&quot;</span><span class="p">,</span>
  <span class="s2">&quot;message&quot;</span> <span class="p">:</span> <span class="s2">&quot;pushed&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When messages arrive the back-end peer, the value &#8220;source_type&#8221; of every message is replaced with &#8220;REMOTE&#8221;</p>
</div>
<div class="section" id="api-push-geojson-json">
<span id="api-push-geojson-json"></span><h2>/api/push/geojson.json<a class="headerlink" href="#api-push-geojson-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>This API is open and can be accessed without any restrictions!
</pre></div>
</div>
<p>An alternative solution to push Tweets data to back-end, using GeoJSON format. Messages are collected from provided url, which contains a <a class="reference external" href="http://geojson.org/geojson-spec.html#introduction">GeoJSON Feature Collection</a>. Each message is a GeoJSON Feature. Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;FeatureCollection&quot;</span><span class="p">,</span>
    <span class="s2">&quot;features&quot;</span> <span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span>
      <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">20.86</span><span class="p">,</span> <span class="mf">106.68</span><span class="p">]},</span>
      <span class="s2">&quot;properties&quot;</span> <span class="p">:</span>
      <span class="p">{</span>
        <span class="s2">&quot;screen_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Message 1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user&quot;</span> <span class="p">:</span> <span class="p">{</span>
<span class="s2">&quot;screen_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;exanonym77s&quot;</span><span class="p">,</span>
<span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;Example User&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span>
      <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">43.56</span><span class="p">,</span> <span class="mf">1.46</span><span class="p">]},</span>
      <span class="s2">&quot;properties&quot;</span> <span class="p">:</span>
      <span class="p">{</span>
        <span class="s2">&quot;screen_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Message 2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user&quot;</span> <span class="p">:</span> <span class="p">{</span>
<span class="s2">&quot;screen_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;exanonym77s&quot;</span><span class="p">,</span>
<span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;Example User&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="p">]}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the back-end, &#8220;geometry&#8221; fields are transformed into Tweet &#8220;location_point&#8221;. &#8220;properties&#8221; fields are pasted as Tweet fields.</p>
<p>This servlet allows users to specify some rules to map &#8220;properties&#8221; fields differently, with map_type parameter.The HTTP GET or POST request has these attributes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">url</span><span class="o">*</span>          <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>            <span class="o">//</span> <span class="n">public</span> <span class="n">url</span> <span class="n">to</span> <span class="n">retrieve</span> <span class="n">geojson</span> <span class="n">data</span><span class="o">.</span> <span class="n">This</span> <span class="n">url</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">update</span> <span class="n">the</span> <span class="n">source</span> <span class="n">periodically</span>
<span class="n">screen_name</span><span class="o">*</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">source</span> <span class="nb">type</span><span class="o">&gt;</span>       <span class="o">//</span> <span class="n">importer</span> <span class="n">screen</span> <span class="n">name</span><span class="o">.</span>
<span class="n">source_type</span><span class="o">*</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">source</span> <span class="nb">type</span><span class="o">&gt;</span>       <span class="o">//</span> <span class="s2">&quot;source_type&quot;</span> <span class="n">value</span> <span class="n">of</span> <span class="n">each</span> <span class="n">message</span><span class="o">.</span>
<span class="n">map_type</span>      <span class="o">=</span> <span class="o">&lt;</span><span class="n">mapping</span> <span class="n">rule</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">&gt;</span>   <span class="o">//</span> <span class="n">field</span> <span class="n">mapping</span> <span class="n">rules</span><span class="p">,</span> <span class="n">separated</span> <span class="n">by</span> <span class="n">commas</span>
</pre></div>
</div>
<p>Along with some optional parameters to specify how loklak should treat the data source:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>harvesting_freq  = &lt;number&gt; // Update frequency (in minutes) of the data source
lifetime         = &lt;number&gt; // expiration date (in epoch time) of the data source
public           = &lt;string&gt; // set to `true` to make the data searchable by other users
</pre></div>
</div>
<p>It&#8217;s mandatory to mention the SOURCE_TYPE as IMPORT and also it&#8217;s mandatory to have a screen_name parameter while performing the push to the geojson. The GeoJSON should follow a valid geojson feature format.</p>
<p>The servlet returns with the same information as /api/push.json.</p>
<p>Here is an example:</p>
<p><a class="reference external" href="http://localhost:9000/api/push/geojson.json?url=mysite.com/mygeojson.json&amp;source_type=IMPORT&amp;screen_name=test">http://localhost:9000/api/push/geojson.json?url=mysite.com/mygeojson.json&amp;source_type=IMPORT&amp;screen_name=test</a></p>
<p>Another example, with 3 field mapping rules:</p>
<p><a class="reference external" href="http://localhost:9000/api/push/geojson.json?url=mysite.com/mygeojson.json&amp;source_type=IMPORT&amp;map_type=message_name:screen_name,username:user.name,user_shortname:user.screen_name">http://localhost:9000/api/push/geojson.json?url=mysite.com/mygeojson.json&amp;source_type=IMPORT&amp;map_type=message_name:screen_name,username:user.name,user_shortname:user.screen_name</a></p>
</div>
<div class="section" id="api-push">
<span id="api-push"></span><h2>/api/push/<em>.</em><a class="headerlink" href="#api-push" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>This API is open and can be accessed without any restrictions!
</pre></div>
</div>
<p>Numerous data formats are internally supported by loklak push feature, other than geojson. The main difference is that these formats are hardwired and do not support custom mapping rules. This is a non-exhaustive list of active push endpoints:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>    <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">fossasia_api</span><span class="o">.</span><span class="n">json</span>
    <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">freifunk_node</span><span class="o">.</span><span class="n">json</span>
    <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">openwifimap</span><span class="o">.</span><span class="n">json</span>
    <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">nodelist</span><span class="o">.</span><span class="n">json</span>
    <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">netmon</span><span class="o">.</span><span class="n">xml</span>
</pre></div>
</div>
<p>Required attributes are:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">url</span><span class="o">*</span>          <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>   <span class="o">//</span> <span class="n">public</span> <span class="n">url</span> <span class="n">of</span> <span class="n">the</span> <span class="n">data</span> <span class="n">source</span>
<span class="n">screen_name</span><span class="o">*</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>   <span class="o">//</span> <span class="n">importer</span> <span class="n">screen</span> <span class="n">name</span>
</pre></div>
</div>
<p>Along with some optional parameters to specify how loklak should treat the data source:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>harvesting_freq     = &lt;number&gt;  // Update frequency (in minutes) of the data source
lifetime            = &lt;number&gt;  // expiration date (in epoch time) of the data source
public              = &lt;string&gt;  // set to `true` to make the data searchable by other users
</pre></div>
</div>
</div>
<div class="section" id="api-import-json">
<span id="api-import-json"></span><h2>/api/import.json<a class="headerlink" href="#api-import-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>This API is open and can be accessed without any restrictions!
</pre></div>
</div>
<p>While pushing custom data using /api/push/*.json, loklak saves metadata of the push: collection frequency, lifetime, privacy status, etc.. in an object structure called ImportProfile. This API enables Read-Update-Delete operations on those objects. The type of action to performed is defined by <code class="docutils literal"><span class="pre">action</span></code> attribute:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">action</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">action</span> <span class="nb">type</span><span class="o">&gt;</span>  <span class="o">//</span> <span class="n">accepted</span> <span class="n">values</span> <span class="n">are</span> <span class="n">update</span><span class="o">|</span><span class="n">delete</span><span class="o">.</span> <span class="n">Leave</span> <span class="n">blank</span> <span class="k">for</span> <span class="n">read</span> <span class="n">operation</span><span class="o">.</span>
</pre></div>
</div>
<p>Request attributes are different depending on action type. For read action:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">screen_name</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>    <span class="o">//</span> <span class="n">unique</span> <span class="n">screen_name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">importer</span>
<span class="n">source_type</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>    <span class="o">//</span> <span class="n">source</span> <span class="nb">type</span> <span class="n">data</span>
</pre></div>
</div>
<p>For update action:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>data*   = &lt;json&gt;  // the data to update. Must contain an `id_str` field to identify the import profile to update.
</pre></div>
</div>
<p>For delete action:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">source_url</span><span class="o">*</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="o">//</span> <span class="n">url</span> <span class="n">of</span> <span class="n">the</span> <span class="n">source</span>
<span class="n">screen_name</span><span class="o">*</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span>  <span class="o">//</span> <span class="n">importer</span> <span class="n">screen_name</span><span class="o">.</span> <span class="n">Along</span> <span class="k">with</span> <span class="n">source_url</span> <span class="n">this</span> <span class="n">attribute</span> <span class="ow">is</span> <span class="n">required</span> <span class="n">to</span> <span class="n">identify</span> <span class="n">the</span> <span class="kn">import</span> <span class="nn">profile.</span>
</pre></div>
</div>
</div>
<div class="section" id="api-validate-json">
<span id="api-validate-json"></span><h2>/api/validate.json<a class="headerlink" href="#api-validate-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>This API is open and can be accessed without any restrictions!
</pre></div>
</div>
<p>In loklak, before pushing custom data, the data format is validated against its corresponding JSON schema. This step ensures the data format is correct and helps users check their data even before pushing it. Required attributes are:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">url</span><span class="o">*</span>          <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="o">//</span> <span class="n">public</span> <span class="n">url</span> <span class="n">of</span> <span class="n">the</span> <span class="n">data</span>
<span class="n">source_type</span><span class="o">*</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="o">//</span> <span class="n">indicate</span> <span class="n">the</span> <span class="n">data</span> <span class="nb">format</span> <span class="n">to</span> <span class="n">validate</span> <span class="n">against</span><span class="o">.</span> <span class="n">Some</span> <span class="n">valid</span> <span class="n">values</span> <span class="n">are</span> <span class="p">:</span> <span class="n">FOSSASIA_API</span><span class="p">,</span> <span class="n">FREIFUNK_NODE</span><span class="p">,</span> <span class="n">OPENWIFIMAP</span><span class="p">,</span> <span class="n">etc</span><span class="o">..</span>
</pre></div>
</div>
</div>
<div class="section" id="api-settings-json">
<span id="api-settings-json"></span><h2>/api/settings.json<a class="headerlink" href="#api-settings-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">API</span> <span class="n">has</span> <span class="n">access</span> <span class="n">restrictions</span><span class="p">:</span> <span class="n">only</span> <span class="n">localhost</span> <span class="n">clients</span> <span class="n">are</span> <span class="n">granted</span><span class="o">.</span>
</pre></div>
</div>
<p>This servlet provides a method to provide the settings API for the loklak front-end connections. This servlet works for requests that are running the application from the localhost.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">File</span> <span class="n">to</span> <span class="n">edit</span>   <span class="o">=</span> <span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">settings</span><span class="o">/</span><span class="n">customized_config</span><span class="o">.</span><span class="n">properties</span>
</pre></div>
</div>
<p>To serve the configuration, the config file should read the parameters as follows with a client. prefix</p>
<div class="highlight-default"><div class="highlight"><pre><span></span> <span class="n">client</span><span class="o">.</span><span class="n">test</span> <span class="o">=</span> <span class="n">abc</span>
</pre></div>
</div>
<p>Which renders the output as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;test&quot;</span> <span class="p">:</span> <span class="s2">&quot;abc&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here is an example :</p>
<p><a class="reference external" href="http://localhost:9000/api/settings.json">http://localhost:9000/api/settings.json</a></p>
</div>
<div class="section" id="api-account-json">
<span id="api-account-json"></span><h2>/api/account.json<a class="headerlink" href="#api-account-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">API</span> <span class="n">has</span> <span class="n">access</span> <span class="n">restrictions</span><span class="p">:</span> <span class="n">only</span> <span class="n">localhost</span> <span class="n">clients</span> <span class="n">are</span> <span class="n">granted</span><span class="o">.</span>
</pre></div>
</div>
<p>This servlet provides the storage and retrieval of user account data. This includes Twitter account information (OAuth tokens). This servlet can only be called from localhost.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">screen_name</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">user</span> <span class="n">nickname</span><span class="o">&gt;</span> <span class="o">//</span> <span class="n">the</span> <span class="n">identifier</span> <span class="n">of</span> <span class="n">the</span> <span class="n">account</span> <span class="n">record</span>
<span class="n">action</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">an</span> <span class="n">action</span><span class="o">&gt;//</span> <span class="n">proper</span> <span class="n">values</span> <span class="n">are</span> <span class="n">either</span> <span class="o">&lt;</span><span class="n">empty</span><span class="o">&gt;</span> <span class="ow">or</span> <span class="s1">&#39;update&#39;</span>
<span class="n">minified</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">true</span><span class="o">|</span><span class="n">false</span><span class="o">&gt;//</span> <span class="n">minify</span> <span class="n">the</span> <span class="n">result</span><span class="p">,</span> <span class="n">default</span> <span class="n">false</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span> <span class="n">minified</span><span class="o">=</span><span class="n">true</span>
<span class="n">callback</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">a</span> <span class="n">jsonp</span> <span class="n">function</span> <span class="n">name</span><span class="o">&gt;//</span> <span class="n">use</span> <span class="n">this</span> <span class="n">to</span> <span class="n">call</span> <span class="n">the</span> <span class="n">servlet</span> <span class="k">with</span> <span class="n">jsonp</span> <span class="n">result</span>
<span class="n">data</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">an</span> <span class="nb">object</span> <span class="n">to</span> <span class="n">store</span><span class="o">&gt;//</span> <span class="k">if</span> <span class="n">you</span> <span class="nb">set</span> <span class="n">action</span><span class="o">=</span><span class="n">update</span><span class="p">,</span> <span class="n">you</span> <span class="n">must</span> <span class="n">submit</span> <span class="n">this</span> <span class="n">data</span> <span class="nb">object</span>
</pre></div>
</div>
<p>If you want to retrieve data from the API, just submit the screen_name and you get the stored data object returned. If you want to store one or more account objects, submit that object (these objects) inside the data value. Hint: the screen_name is not used for storage of the objects, the screen_name must be inside the data object!</p>
<p>The data object must have the following form:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;screen_name&quot;</span>           <span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>        <span class="o">//</span> <span class="n">primary</span> <span class="n">key</span> <span class="k">for</span> <span class="n">the</span> <span class="n">user</span>
  <span class="s2">&quot;source_type&quot;</span>           <span class="p">:</span> <span class="s2">&quot;TWITTER&quot;</span><span class="p">,</span>     <span class="o">//</span> <span class="n">the</span> <span class="n">application</span> <span class="n">which</span> <span class="n">created</span> <span class="n">the</span> <span class="n">token</span><span class="p">,</span> <span class="n">by</span> <span class="n">default</span> <span class="s2">&quot;TWITTER&quot;</span>
  <span class="s2">&quot;oauth_token&quot;</span>           <span class="p">:</span> <span class="s2">&quot;abc&quot;</span><span class="p">,</span>         <span class="o">//</span> <span class="n">the</span> <span class="n">oauth</span> <span class="n">token</span>
  <span class="s2">&quot;oauth_token_secret&quot;</span>    <span class="p">:</span> <span class="s2">&quot;def&quot;</span><span class="p">,</span>         <span class="o">//</span> <span class="n">the</span> <span class="n">oauth</span> <span class="n">token_secret</span>
  <span class="s2">&quot;authentication_first&quot;</span>  <span class="p">:</span> <span class="s2">&quot;2015-06-07T09:39:22.341Z&quot;</span><span class="p">,</span>        <span class="o">//</span> <span class="n">optional</span>
  <span class="s2">&quot;authentication_latest&quot;</span> <span class="p">:</span> <span class="s2">&quot;2015-06-07T09:39:22.341Z&quot;</span><span class="p">,</span>        <span class="o">//</span> <span class="n">optional</span>
  <span class="s2">&quot;apps&quot;</span>                  <span class="p">:</span> <span class="p">{</span><span class="s2">&quot;wall&quot;</span> <span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span> <span class="p">:</span> <span class="s2">&quot;horizontal&quot;</span><span class="p">}}</span> <span class="o">//</span> <span class="nb">any</span> <span class="n">json</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can set such a record i.e. with the call</p>
<p><a class="reference external" href="http://localhost:9000/api/account.json?action=update&amp;data={&quot;screen_name&quot;:&quot;test&quot;,&quot;oauth_token&quot;:&quot;abc&quot;,&quot;oauth_token_secret&quot;:&quot;def&quot;}">http://localhost:9000/api/account.json?action=update&amp;data={&#8220;screen_name&#8221;:&#8221;test&#8221;,&#8221;oauth_token&#8221;:&#8221;abc&#8221;,&#8221;oauth_token_secret&#8221;:&#8221;def&#8221;}</a></p>
<p>It can then be retrieved again with</p>
<p><a class="reference external" href="http://localhost:9000/api/account.json?screen_name=test">http://localhost:9000/api/account.json?screen_name=test</a></p>
<p>To add or update a record with apps settings, simply omit the OAuth details and just set apps</p>
<p><a class="reference external" href="http://localhost:9000/api/account.json?action=update&amp;data={&quot;screen_name&quot;:&quot;test&quot;,&quot;apps&quot;:{&quot;wall&quot;:{&quot;type&quot;:&quot;horizontal&quot;}}}">http://localhost:9000/api/account.json?action=update&amp;data={&#8220;screen_name&#8221;:&#8221;test&#8221;,&#8221;apps&#8221;:{&#8220;wall&#8221;:{&#8220;type&#8221;:&#8221;horizontal&#8221;}}}</a></p>
</div>
<div class="section" id="api-user-json">
<span id="api-user-json"></span><h2>/api/user.json<a class="headerlink" href="#api-user-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>This API is open and can be accessed without any restrictions!
</pre></div>
</div>
<p>This servlet provides the retrieval of user followers and the accounts which the user is following. Just submit the screen_name as GET http attribute. Example:</p>
<p><a class="reference external" href="http://api.loklak.org/api/user.json?screen_name=loklak_app">http://api.loklak.org/api/user.json?screen_name=loklak_app</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;search_metadata&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;client&quot;</span> <span class="p">:</span> <span class="s2">&quot;122.175.88.165&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;user&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;retrieval_date&quot;</span> <span class="p">:</span> <span class="s2">&quot;2016-04-24T09:18:18.699Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;location&quot;</span> <span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;default_profile&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;statuses_count&quot;</span> <span class="p">:</span> <span class="mi">174</span><span class="p">,</span>
    <span class="s2">&quot;profile_background_tile&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;lang&quot;</span> <span class="p">:</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
    <span class="s2">&quot;profile_link_color&quot;</span> <span class="p">:</span> <span class="s2">&quot;0084B4&quot;</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span> <span class="p">:</span> <span class="mi">3090229939</span><span class="p">,</span>
    <span class="s2">&quot;following&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;favourites_count&quot;</span> <span class="p">:</span> <span class="mi">321</span><span class="p">,</span>
    <span class="s2">&quot;profile_location&quot;</span> <span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;protected&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;profile_text_color&quot;</span> <span class="p">:</span> <span class="s2">&quot;333333&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span> <span class="p">:</span> <span class="s2">&quot;Large-scale distibuted tweet harvesting and analysis with free and open source software from http://t.co/D8XmZwuU2Y; maybe next-gen twitter alternative&quot;</span><span class="p">,</span>
    <span class="s2">&quot;verified&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;contributors_enabled&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;profile_sidebar_border_color&quot;</span> <span class="p">:</span> <span class="s2">&quot;C0DEED&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="s2">&quot;loklak_app&quot;</span><span class="p">,</span>
    <span class="s2">&quot;profile_background_color&quot;</span> <span class="p">:</span> <span class="s2">&quot;C0DEED&quot;</span><span class="p">,</span>
    <span class="s2">&quot;created_at&quot;</span> <span class="p">:</span> <span class="s2">&quot;Mon Mar 16 16:48:17 +0000 2015&quot;</span><span class="p">,</span>
    <span class="s2">&quot;is_translation_enabled&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;default_profile_image&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;followers_count&quot;</span> <span class="p">:</span> <span class="mi">46</span><span class="p">,</span>
    <span class="s2">&quot;geo_enabled&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;has_extended_profile&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;profile_image_url_https&quot;</span> <span class="p">:</span> <span class="s2">&quot;https://pbs.twimg.com/profile_images/577512240640733184/fizL4YIn_normal.png&quot;</span><span class="p">,</span>
    <span class="s2">&quot;profile_background_image_url&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://abs.twimg.com/images/themes/theme1/bg.png&quot;</span><span class="p">,</span>
    <span class="s2">&quot;profile_background_image_url_https&quot;</span> <span class="p">:</span> <span class="s2">&quot;https://abs.twimg.com/images/themes/theme1/bg.png&quot;</span><span class="p">,</span>
    <span class="s2">&quot;needs_phone_verification&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;entities&quot;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;description&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;urls&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
          <span class="s2">&quot;expanded_url&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://loklak.org&quot;</span><span class="p">,</span>
          <span class="s2">&quot;indices&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="mi">93</span><span class="p">,</span> <span class="mi">115</span> <span class="p">],</span>
          <span class="s2">&quot;display_url&quot;</span> <span class="p">:</span> <span class="s2">&quot;loklak.org&quot;</span><span class="p">,</span>
          <span class="s2">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://t.co/D8XmZwuU2Y&quot;</span>
        <span class="p">}</span> <span class="p">]</span>
      <span class="p">},</span>
      <span class="s2">&quot;url&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;urls&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
          <span class="s2">&quot;expanded_url&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://loklak.org&quot;</span><span class="p">,</span>
          <span class="s2">&quot;indices&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">23</span> <span class="p">],</span>
          <span class="s2">&quot;display_url&quot;</span> <span class="p">:</span> <span class="s2">&quot;loklak.org&quot;</span><span class="p">,</span>
          <span class="s2">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;https://t.co/D8XmZwdjbq&quot;</span>
        <span class="p">}</span> <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;follow_request_sent&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;https://t.co/D8XmZwdjbq&quot;</span><span class="p">,</span>
    <span class="s2">&quot;suspended&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;utc_offset&quot;</span> <span class="p">:</span> <span class="o">-</span><span class="mi">39600</span><span class="p">,</span>
    <span class="s2">&quot;time_zone&quot;</span> <span class="p">:</span> <span class="s2">&quot;International Date Line West&quot;</span><span class="p">,</span>
    <span class="s2">&quot;notifications&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;friends_count&quot;</span> <span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
    <span class="s2">&quot;profile_use_background_image&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;profile_sidebar_fill_color&quot;</span> <span class="p">:</span> <span class="s2">&quot;DDEEF6&quot;</span><span class="p">,</span>
    <span class="s2">&quot;screen_name&quot;</span> <span class="p">:</span> <span class="s2">&quot;loklak_app&quot;</span><span class="p">,</span>
    <span class="s2">&quot;id_str&quot;</span> <span class="p">:</span> <span class="s2">&quot;3090229939&quot;</span><span class="p">,</span>
    <span class="s2">&quot;profile_image_url&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://pbs.twimg.com/profile_images/577512240640733184/fizL4YIn_normal.png&quot;</span><span class="p">,</span>
    <span class="s2">&quot;is_translator&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;listed_count&quot;</span> <span class="p">:</span> <span class="mi">9</span>
  <span class="p">},</span>
  <span class="s2">&quot;topology&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;following&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;followers&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;unfollowing_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;unfollowers&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;unfollowers_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;following_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;unfollowing&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;followers_count&quot;</span> <span class="p">:</span> <span class="mi">0</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It is also possible to get the followers of an account all at once. To trigger this, just add the attribute followers=<maxcount> to the request. The same applies to the account which the user is following, just add following=<maxcount>. This will produce a list of <maxcount> user entries in a &#8216;topology&#8217; object. Example:</p>
<p><a class="reference external" href="http://api.loklak.org/api/user.json?screen_name=loklak_app&amp;followers=10000&amp;following=10000">http://api.loklak.org/api/user.json?screen_name=loklak_app&amp;followers=10000&amp;following=10000</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;search_metadata&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="p">(</span><span class="n">client</span><span class="p">)</span> 
  <span class="p">}</span>
  <span class="s2">&quot;user&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="p">(</span><span class="n">user</span> <span class="n">data</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="s2">&quot;topology&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;following&quot;</span> <span class="p">:</span> <span class="p">[{</span>
      <span class="p">(</span><span class="n">user</span><span class="s1">&#39;s friend&#39;</span><span class="n">s</span> <span class="n">data</span><span class="p">)</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="p">(</span><span class="n">user</span><span class="s1">&#39;s friend&#39;</span><span class="n">s</span> <span class="n">data</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="o">...</span>
    <span class="p">],</span>
    <span class="s2">&quot;followers&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
      <span class="p">(</span><span class="n">user</span><span class="s1">&#39;s follower data)</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="p">(</span><span class="n">user</span><span class="s1">&#39;s follower data)</span>
    <span class="p">},</span>
    <span class="o">...</span>
    <span class="p">],</span>
    <span class="s2">&quot;retrieval_date&quot;</span> <span class="p">:</span> <span class="s2">&quot;2016-04-24T09:21:22.060Z&quot;</span><span class="p">,</span>
    <span class="s2">&quot;unfollowers&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;unfollowing_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;complete&quot;</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;unfollowers_count&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;following_count&quot;</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s2">&quot;unfollowing&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
    <span class="s2">&quot;followers_count&quot;</span> <span class="p">:</span> <span class="mi">33</span><span class="p">,</span>
    <span class="s2">&quot;$P&quot;</span> <span class="p">:</span> <span class="s2">&quot;I&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="api-apps-json">
<span id="api-apps-json"></span><h2>/api/apps.json<a class="headerlink" href="#api-apps-json" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>This API is open and can be accessed without any restrictions!
</pre></div>
</div>
<p>the json of /api/apps.json now contains two more objects:</p>
<ul class="simple">
<li>&#8220;categories&#8221; with a list of category names</li>
<li>&#8220;category&#8221; with an object which holds a list of the application names for each category.</li>
</ul>
<p>Furthermore, the servlet can now be called with an &#8216;category&#8217; property, like:</p>
<p><a class="reference external" href="http://api.loklak.org/api/apps.json?category=Demo">http://api.loklak.org/api/apps.json?category=Demo</a></p>
<p>This will reduce the app list to the sub-list which contains only apps from that category.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>  <span class="p">{</span>
    <span class="s2">&quot;@context&quot;</span><span class="p">:</span> <span class="s2">&quot;http://schema.org&quot;</span><span class="p">,</span>
    <span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;SoftwareApplication&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;boilerplate&quot;</span><span class="p">,</span>
    <span class="s2">&quot;headline&quot;</span><span class="p">:</span> <span class="s2">&quot;Boilerplate for loklak apps&quot;</span><span class="p">,</span>
    <span class="s2">&quot;alternativeHeadline&quot;</span><span class="p">:</span> <span class="s2">&quot;the &#39;hello world&#39; app that you want to copy-paste for your own app&quot;</span><span class="p">,</span>
    <span class="s2">&quot;applicationCategory&quot;</span><span class="p">:</span> <span class="s2">&quot;Demo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;applicationSubCategory&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello World&quot;</span><span class="p">,</span>
    <span class="s2">&quot;operatingSystem&quot;</span><span class="p">:</span> <span class="s2">&quot;http://loklak.org&quot;</span><span class="p">,</span>
    <span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;Person&quot;</span><span class="p">,</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Michael Christen&quot;</span><span class="p">,</span>
      <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://yacy.net&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sameAs&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/orbiter&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="api-asset">
<span id="api-asset"></span><h2>/api/asset<a class="headerlink" href="#api-asset" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">API</span> <span class="n">has</span> <span class="n">access</span> <span class="n">limitations</span><span class="p">:</span> <span class="n">localhost</span> <span class="n">clients</span> <span class="n">are</span> <span class="n">granted</span> <span class="n">more</span> <span class="n">data</span> <span class="n">than</span> <span class="n">public</span> <span class="n">clients</span><span class="o">.</span>
</pre></div>
</div>
<p>Storage of data must be done using POST http commands to servlet /api/asset and retrieval of data must be done using GET http commands to the same servlet /api/asset.</p>
<p>POST request:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">screen_name</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">user</span> <span class="n">nickname</span><span class="o">&gt;</span> <span class="o">//</span> <span class="n">the</span> <span class="n">identifier</span> <span class="n">of</span> <span class="n">the</span> <span class="n">account</span> <span class="n">record</span>
<span class="n">id_str</span>       <span class="o">=</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span>        <span class="o">//</span> <span class="n">message</span> <span class="nb">id</span>
<span class="n">file</span>         <span class="o">=</span> <span class="o">&lt;</span><span class="n">file</span> <span class="n">name</span><span class="o">&gt;</span>     <span class="o">//</span> <span class="n">loklak</span> <span class="n">stores</span> <span class="n">new</span> <span class="n">file</span> <span class="n">by</span> <span class="n">this</span> <span class="n">name</span>
<span class="n">data</span>         <span class="o">=</span> <span class="o">&lt;</span><span class="n">binary</span><span class="o">&gt;</span>        <span class="o">//</span> <span class="n">binary</span> <span class="n">data</span> <span class="n">of</span> <span class="n">image</span>
</pre></div>
</div>
<p>For example,</p>
<p><a class="reference external" href="http://localhost:9000/api/asset?id_str=608991531941425153&amp;screen_name=loklak_messages&amp;file=image0.png">http://localhost:9000/api/asset?id_str=608991531941425153&amp;screen_name=loklak_messages&amp;file=image0.png</a></p>
<p>... with data in POST parameter stores the file from /Users/admin/Desktop/wall0.png as attachment for a message with id 608991531941425153 assigned to user loklak_messages under the name image0.png</p>
<p>Retrieval of this file with the browser you can do with GET request to:</p>
<p><a class="reference external" href="http://localhost:9000/api/asset?id_str=608991531941425153&amp;screen_name=loklak_messages&amp;file=image0.png">http://localhost:9000/api/asset?id_str=608991531941425153&amp;screen_name=loklak_messages&amp;file=image0.png</a></p>
</div>
<div class="section" id="api-threaddump-txt">
<span id="api-threaddump-txt"></span><h2>/api/threaddump.txt<a class="headerlink" href="#api-threaddump-txt" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">API</span> <span class="n">has</span> <span class="n">access</span> <span class="n">limitations</span><span class="p">:</span> <span class="n">localhost</span> <span class="n">clients</span> <span class="n">are</span> <span class="n">granted</span> <span class="n">more</span> <span class="n">data</span> <span class="n">than</span> <span class="n">public</span> <span class="n">clients</span><span class="o">.</span>
</pre></div>
</div>
<p>Simply download http://localhost:9000/api/threaddump.txt file. Either GET or POST request is valid for thread dump api. No parameter is needed in this api.</p>
<p><a class="reference external" href="http://localhost:9000/api/threaddump.txt">http://localhost:9000/api/threaddump.txt</a></p>
<p>contains the real-time information about loklak in JVM, including:</p>
<ul class="simple">
<li>Memory usage</li>
<li>Total running time</li>
<li>Time to restart</li>
<li>Status of individual threads</li>
<li>Threads that have been terminated</li>
</ul>
<p>Thread dump can be used to track the memory use of loklak, and it helps developers to discover potential problems like memory leaks. There are six states that has been assigned to a thread, see further reading: <a class="reference external" href="https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.State.html">Enum Thread.State</a></p>
<p>At the end of the thread dump is a list of running thread. This list may indicate the load of the server.</p>
<p>Here is some example of <a class="reference external" href="http://localhost:9000/api/threaddump.txt">threaddump.txt</a>(The following example has been delibrately cut to fit in the document):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>  ************* Start Thread Dump Thu Dec 31 07:51:47 CET 2015 *******************

  Assigned   Memory = 9544663040
  Used       Memory = 4937137296
  Available  Memory = 4607525744
  Runtime           = 16h 57m 16s
  Time To Restart   = 7h 2m 43s


  THREADS WITH STATES: BLOCKED


  THREADS WITH STATES: RUNNABLE

  Thread= elasticsearch[Tag][http_server_worker][T#3]{New I/O worker #37} daemon id=236 RUNNABLE
  at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)


  Thread= pool-1-thread-5-acceptor-0@5927ff67-httpd:9000@785dd85d{HTTP/1.1}{0.0.0.0:9000}  id=278 RUNNABLE
  at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:250)
  at org.eclipse.jetty.server.ServerConnector.accept(ServerConnector.java:377)


  Thread= Thread-12680  id=14172 RUNNABLE
  at java.net.Socket.connect(Socket.java:579)
  at org.loklak.api.server.SearchServlet$1.run(SearchServlet.java:113)


  Thread= pool-1-thread-2-selector-ServerConnectorManager@3242d75a/1  id=275 RUNNABLE
  at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:102)


  Thread= elasticsearch[Tag][transport_client_boss][T#1]{New I/O boss #17} daemon id=210 RUNNABLE
  at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
  at org.jboss.netty.channel.socket.nio.SelectorUtil.select(SelectorUtil.java:68)actNioSelector.run(AbstractNioSelector.java:212)
  at java.lang.Thread.run(Thread.java:745)


  Thread= elasticsearch[Tag][http_server_boss][T#1]{New I/O server boss #51} daemon id=250 RUNNABLE
  at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:102)
  at org.jboss.netty.channel.socket.nio.NioServerBoss.select(NioServerBoss.java:163)
  at java.lang.Thread.run(Thread.java:745)


  Thread= pool-1-thread-10  id=290 RUNNABLE
  at java.lang.Thread.getAllStackTraces(Thread.java:1640)
  at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)


  THREADS WITH STATES: TIMED_WAITING

  Thread= elasticsearch[Tag][transport_client_timer][T#1]{Hashed wheel timer #1} daemon id=209 TIMED_WAITING
  at java.lang.Thread.sleep(Native Method)
  at java.lang.Thread.run(Thread.java:745)


  Thread= elasticsearch[Tag][[ttl_expire]] daemon id=192 TIMED_WAITING
  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2176)
  at org.elasticsearch.indices.ttl.IndicesTTLService$Notifier.await(IndicesTTLService.java:341)
  at org.elasticsearch.indices.ttl.IndicesTTLService$PurgerThread.run(IndicesTTLService.java:147)


  Thread= elasticsearch[Tag][[timer]] daemon id=189 TIMED_WAITING
  at java.lang.Thread.sleep(Native Method)
  at org.elasticsearch.threadpool.ThreadPool$EstimatedTimeThread.run(ThreadPool.java:703)


  Thread= elasticsearch[Tag][generic][T#4] daemon id=257 TIMED_WAITING
  at java.lang.Thread.run(Thread.java:745)


  Thread= Thread-180  id=188 TIMED_WAITING
  at java.lang.Thread.sleep(Native Method)
  at org.loklak.http.AccessTracker.run(AccessTracker.java:103)


  Thread= main  id=1 TIMED_WAITING
  at org.eclipse.jetty.server.Server.join(Server.java:560)
  at org.loklak.LoklakServer.main(LoklakServer.java:324)



  THREADS WITH STATES: WAITING

  Thread= Thread-184  id=279 WAITING
  at java.util.ArrayList.add(ArrayList.java:440)
  at org.loklak.data.MessageEntry.extract(MessageEntry.java:556)
  at org.loklak.Caretaker.run(Caretaker.java:96)


  Thread= elasticsearch[Tag][search][T#12] daemon id=299 WAITING
  at java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1137)
  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
  at java.lang.Thread.run(Thread.java:745)


  Thread= elasticsearch[Tag][listener][T#3] daemon id=259 WAITING
  at java.lang.Thread.run(Thread.java:745)


  Thread= Reference Handler daemon id=2 WAITING
  at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:133)


  Thread= Finalizer daemon id=3 WAITING
  at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)



  THREADS WITH STATES: NEW


  THREADS WITH STATES: TERMINATED


  ************* End Thread Dump Thu Dec 31 07:51:47 CET 2015 *******************

  Thread list from ThreadMXBean, 165 threads:
  Thread-12680
  Keep-Alive-SocketCleaner
  Finalizer
  Reference Handler
  main
</pre></div>
</div>
</div>
<div class="section" id="vis-map-png">
<span id="vis-map-png"></span><h2>/vis/map.png<a class="headerlink" href="#vis-map-png" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>This API is open and can be accessed without any restrictions!
</pre></div>
</div>
<p>Usage-Description</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">text</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">text</span><span class="o">&gt;</span>                      <span class="o">//</span> <span class="n">Value</span> <span class="n">of</span> <span class="n">text</span> <span class="n">like</span> <span class="n">Hello</span>
<span class="n">mlat</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">latitude</span> <span class="n">coordinates</span><span class="o">&gt;</span>      <span class="o">//</span> <span class="n">Latitude</span> <span class="n">Value</span>
<span class="n">mlon</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">longitude</span> <span class="n">coordinates</span><span class="o">&gt;</span>     <span class="o">//</span> <span class="n">Longitude</span> <span class="n">Value</span>
<span class="n">zoom</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">zoom</span> <span class="n">value</span><span class="o">&gt;</span>                <span class="o">//</span> <span class="n">Zoom</span> <span class="n">Value</span>
<span class="n">width</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">width</span><span class="o">&gt;</span>                     <span class="o">//</span> <span class="n">Width</span> <span class="n">Value</span>
<span class="n">height</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">height</span><span class="o">&gt;</span>                    <span class="o">//</span> <span class="n">Height</span> <span class="n">Value</span>
<span class="n">bbox</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">maplongWest</span><span class="p">,</span><span class="n">maplatSouth</span><span class="o">..&gt;</span> <span class="o">//</span> <span class="n">BBOX</span> <span class="n">parameter</span>
</pre></div>
</div>
<p>Result-Description</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="n">json</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="vis-markdown-png">
<span id="vis-markdown-png"></span><h2>/vis/markdown.png<a class="headerlink" href="#vis-markdown-png" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>This API is open and can be accessed without any restrictions!
</pre></div>
</div>
<p>This servlet provides an image with text on it. It shall be used to attach large texts to Tweets. The servlet can be called with POST and GET html requests, however it is recommended to call this using POST to be able to attach large texts. The request properties are:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">text</span>              <span class="o">=</span> <span class="o">&lt;</span><span class="n">text</span> <span class="n">to</span> <span class="n">be</span> <span class="n">printed</span><span class="p">,</span> <span class="n">markdown</span> <span class="n">possible</span><span class="o">&gt;</span>  <span class="o">//</span> <span class="n">the</span> <span class="n">image</span> <span class="n">size</span> <span class="n">adopts</span> <span class="n">automatically</span>
<span class="n">color_text</span>        <span class="o">=</span> <span class="o">&lt;</span><span class="n">text</span> <span class="n">color</span><span class="o">&gt;</span>                             <span class="o">//</span> <span class="mi">6</span><span class="o">-</span><span class="n">character</span> <span class="nb">hex</span> <span class="n">code</span> <span class="k">for</span> <span class="n">the</span> <span class="n">color</span>
<span class="n">color_background</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">background</span> <span class="n">color</span><span class="o">&gt;</span>                       <span class="o">//</span> <span class="mi">6</span><span class="o">-</span><span class="n">character</span> <span class="nb">hex</span> <span class="n">code</span> <span class="k">for</span> <span class="n">the</span> <span class="n">color</span>
<span class="n">padding</span>           <span class="o">=</span> <span class="o">&lt;</span><span class="n">space</span> <span class="n">around</span> <span class="n">text</span><span class="o">&gt;</span>                      <span class="o">//</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">integer</span> <span class="n">number</span> <span class="n">of</span> <span class="n">the</span> <span class="n">pixels</span>
<span class="n">uppercase</span>         <span class="o">=</span> <span class="o">&lt;</span><span class="n">true</span><span class="o">|</span><span class="n">false</span><span class="o">&gt;</span> <span class="n">by</span> <span class="n">default</span> <span class="n">true</span>             <span class="o">//</span> <span class="k">if</span> <span class="n">true</span> <span class="n">the</span> <span class="n">text</span> <span class="ow">is</span> <span class="n">printed</span> <span class="n">UPPERCASE</span>
</pre></div>
</div>
<p>The servlet can produce also gif and jpg images, just change the extension of the servlet path.</p>
<p>Here is an example :</p>
<p><a class="reference external" href="http://api.loklak.org/vis/markdown.png?text=hello%20world%0Dhello%20universe&amp;color_text=000000&amp;color_background=ffffff&amp;padding=3">http://api.loklak.org/vis/markdown.png?text=hello%20world%0Dhello%20universe&amp;color_text=000000&amp;color_background=ffffff&amp;padding=3</a></p>
</div>
<div class="section" id="vis-piechart-png">
<span id="vis-piechart-png"></span><h2>/vis/piechart.png<a class="headerlink" href="#vis-piechart-png" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>This API is open and can be accessed without any restrictions!
</pre></div>
</div>
<p>This servlet provides the visualization of any given JSON into a piechart which can be consumed by the clients where interactive charts cannot be sent. These images denote the piechart visualizations of a json key:value pair object. This API can be called over GET/POST to the api endpoint /vis/piechart.png with the data parameter</p>
<p>Here is the request for the given data:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;ford&quot;</span><span class="p">:</span> <span class="s2">&quot;17.272992&quot;</span><span class="p">,</span>
  <span class="s2">&quot;toyota&quot;</span><span class="p">:</span> <span class="s2">&quot;27.272992&quot;</span><span class="p">,</span>
  <span class="s2">&quot;renault&quot;</span><span class="p">:</span> <span class="s2">&quot;47.272992&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><a class="reference external" href="http://api.loklak.org/vis/piechart.png?data={%22ford%22:%2217.272992%22,%22toyota%22:%2227.272992%22,%22renault%22:%2247.272992%22}&amp;width=1000&amp;height=1000">http://api.loklak.org/vis/piechart.png?data={%22ford%22:%2217.272992%22,%22toyota%22:%2227.272992%22,%22renault%22:%2247.272992%22}&amp;width=1000&amp;height=1000</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">data</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">text</span><span class="o">&gt;</span>  <span class="o">//</span> <span class="n">Value</span> <span class="n">of</span> <span class="n">JSON</span> <span class="n">Key</span><span class="p">:</span><span class="n">Value</span> <span class="n">pairs</span> <span class="n">to</span> <span class="n">visualize</span>
<span class="n">width</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">text</span><span class="o">&gt;</span>  <span class="o">//</span> <span class="n">Width</span> <span class="n">of</span> <span class="n">the</span> <span class="n">image</span> <span class="n">needed</span>
<span class="n">Height</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">text</span><span class="o">&gt;</span>  <span class="o">//</span> <span class="n">Height</span> <span class="n">of</span> <span class="n">the</span> <span class="n">image</span> <span class="n">needed</span>
</pre></div>
</div>
</div>
<div class="section" id="existing-api-libraries-for-using-loklak-api">
<span id="existing-api-libraries-for-using-loklak-api"></span><h2>Existing API libraries for using loklak API<a class="headerlink" href="#existing-api-libraries-for-using-loklak-api" title="Permalink to this headline">¶</a></h2>
<p>If you want to use loklak within your application, There are libraries that are available for you to install directly from the library installation tools. The libraries are currently available in the following languages</p>
<p>Contribute to this library by opening an issue in case you find a bug or any missing functionality.</p>
<p><a class="reference external" href="https://github.com/loklak/loklak_python_api">Python</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>    <span class="n">pip</span> <span class="n">install</span> <span class="n">python_loklak_api</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/loklak/loklak_nodejs_api">Node.js</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>    <span class="n">npm</span> <span class="n">install</span> <span class="n">loklak</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/loklak/loklak_dotnet_wrapper">C#.NET</a> (nuget - Windows)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>    <span class="n">Install</span><span class="o">-</span><span class="n">Package</span> <span class="n">LoklakDotNet</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/loklak/loklak_ruby_api">Ruby</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>    <span class="n">gem</span> <span class="n">install</span> <span class="n">loklak</span>
</pre></div>
</div>
</div>
<div class="section" id="api-xml2json-json">
<span id="api-xml2json-json"></span><h2>/api/xml2json.json<a class="headerlink" href="#api-xml2json-json" title="Permalink to this headline">¶</a></h2>
<p>Any well formed XML data source can be converted to JSON using the loklak&#8217;s <code class="docutils literal"><span class="pre">xml2json.json</span></code> API endpoint. This servlet provides the ability to send data to loklak&#8217;s API as XML and receive a JSON response.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">data</span>      <span class="o">=</span> <span class="n">The</span> <span class="n">XML</span> <span class="n">Data</span> <span class="n">to</span> <span class="n">be</span> <span class="n">converted</span> <span class="n">to</span> <span class="n">JSON</span>     <span class="o">//</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">field</span> <span class="n">which</span> <span class="n">takes</span> <span class="n">data</span><span class="o">=&lt;</span><span class="n">XML</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>You send this this information as a GET / POST request. Here&#8217;s a sample XML</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
&lt;project basedir=&quot;.&quot; default=&quot;build&quot; name=&quot;loklak&quot;&gt;
    &lt;property environment=&quot;env&quot;/&gt;
    &lt;property name=&quot;target&quot; value=&quot;1.8&quot;/&gt;
    &lt;property name=&quot;source&quot; value=&quot;1.8&quot;/&gt;
    &lt;path id=&quot;loklak.classpath&quot;&gt;
        &lt;pathelement location=&quot;classes&quot;/&gt;
        &lt;pathelement location=&quot;lib/antlr-runtime-3.5.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/apache-log4j-extras-1.2.17.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/asm-4.1.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/asm-commons-4.1.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/commons-cli-1.3.1.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/commons-logging-1.2.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/compiler-0.8.13.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/compress-lzf-1.0.2.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/elasticsearch-2.3.2.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/groovy-all-2.4.4.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/guava-18.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/hamcrest-core-1.3.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/HdrHistogram-2.1.6.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/hppc-0.7.1.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/httpclient-4.5.1.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/httpcore-4.4.3.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/httpmime-4.5.1.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jackson-core-2.6.2.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jackson-dataformat-cbor-2.6.2.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jackson-dataformat-smile-2.6.2.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jackson-dataformat-yaml-2.6.2.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/javax.servlet-api-3.1.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/javax.mail-1.5.5.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jetty-http-9.3.9.v20160517.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jetty-io-9.3.9.v20160517.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jetty-rewrite-9.3.9.v20160517.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jetty-security-9.3.9.v20160517.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jetty-server-9.3.9.v20160517.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jetty-servlet-9.3.9.v20160517.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jetty-servlets-9.3.9.v20160517.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jetty-util-9.3.9.v20160517.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jetty-webapp-9.3.9.v20160517.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jna-4.1.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/joda-convert-1.2.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/joda-time-2.8.2.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/json-schema-validator-2.2.6-lib.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jsr166e-1.1.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/jts-1.13.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/junit-4.12.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/log4j-1.2.17.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-analyzers-common-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-backward-codecs-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-core-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-grouping-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-highlighter-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-join-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-memory-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-misc-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-queries-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-queryparser-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-sandbox-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-spatial-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-spatial3d-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/lucene-suggest-5.5.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/netty-3.10.5.Final.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/securesm-1.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/snakeyaml-1.15.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/spatial4j-0.5.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/t-digest-3.0.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/twitter4j-core-4.0.2.jar&quot;/&gt;
        &lt;pathelement location=&quot;lib/twitter4j-stream-4.0.2.jar&quot;/&gt;
    &lt;/path&gt;

    &lt;target name=&quot;init&quot;&gt;
        &lt;copy includeemptydirs=&quot;false&quot; todir=&quot;classes&quot;&gt;
            &lt;fileset dir=&quot;src&quot;&gt;
                &lt;exclude name=&quot;**/*.launch&quot;/&gt;
                &lt;exclude name=&quot;**/*.java&quot;/&gt;
            &lt;/fileset&gt;
        &lt;/copy&gt;
    &lt;/target&gt;

    &lt;target name=&quot;clean&quot;&gt;
        &lt;delete dir=&quot;classes&quot;/&gt;
        &lt;delete dir=&quot;html/javadoc&quot;/&gt;
    &lt;/target&gt;

    &lt;target depends=&quot;init&quot; name=&quot;build&quot;&gt;
        &lt;delete dir=&quot;classes&quot;/&gt;
        &lt;mkdir dir=&quot;classes&quot;/&gt;
        &lt;echo message=&quot;${ant.project.name}: ${ant.file}&quot;/&gt;
        &lt;javac debug=&quot;true&quot; destdir=&quot;classes&quot; includeantruntime=&quot;false&quot; source=&quot;${source}&quot; target=&quot;${target}&quot;&gt;
            &lt;src path=&quot;src&quot;/&gt;
            &lt;classpath refid=&quot;loklak.classpath&quot;/&gt;
        &lt;/javac&gt;
    &lt;/target&gt;

    &lt;target name=&quot;javadoc&quot; depends=&quot;init&quot; description=&quot;make javadoc&quot;&gt;
        &lt;delete dir=&quot;html/javadoc&quot;/&gt;
        &lt;javadoc destdir=&quot;html/javadoc&quot; windowtitle=&quot;loklak javadoc&quot; encoding=&quot;UTF-8&quot; charset=&quot;UTF-8&quot; access=&quot;private&quot;&gt;
            &lt;classpath refid=&quot;loklak.classpath&quot;/&gt;
            &lt;fileset dir=&quot;src&quot;&gt;
                &lt;include name=&quot;**/*.java&quot;/&gt;
            &lt;/fileset&gt;
        &lt;/javadoc&gt;
    &lt;/target&gt;

    &lt;target depends=&quot;build,javadoc&quot; name=&quot;all&quot;/&gt;

    &lt;target name=&quot;start&quot;&gt;
        &lt;java classname=&quot;org.loklak.Main&quot; failonerror=&quot;true&quot; fork=&quot;yes&quot;&gt;
            &lt;jvmarg line=&quot;-ea&quot;/&gt;
            &lt;classpath refid=&quot;loklak.classpath&quot;/&gt;
        &lt;/java&gt;
    &lt;/target&gt;

    &lt;target name=&quot;jar&quot; depends=&quot;build&quot;&gt;
        &lt;mkdir dir=&quot;dist&quot;/&gt;
        &lt;manifestclasspath property=&quot;jar.classpath&quot; jarfile=&quot;dist/loklak.jar&quot;&gt;
            &lt;classpath refid=&quot;loklak.classpath&quot; /&gt;
        &lt;/manifestclasspath&gt;
        &lt;jar destfile=&quot;dist/loklak.jar&quot; basedir=&quot;classes/&quot;&gt;
            &lt;manifest&gt;
                &lt;attribute name=&quot;Class-Path&quot; value=&quot;${jar.classpath}&quot; /&gt;
                &lt;attribute name=&quot;Main-Class&quot; value=&quot;org.loklak.LoklakServer&quot; /&gt;
            &lt;/manifest&gt;
        &lt;/jar&gt;
    &lt;/target&gt;
&lt;/project&gt;
</pre></div>
</div>
<ul class="simple">
<li>Query String:</li>
</ul>
<p><a class="reference external" href="http://localhost:9000/api/xml2json.json?data=&lt;xml&gt;">http://localhost:9000/api/xml2json.json?data=<xml></a></p>
<p>Resulting JSON</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>  <span class="p">{</span><span class="s2">&quot;project&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;basedir&quot;</span><span class="p">:</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span>
  <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;pathelement&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;classes&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/antlr-runtime-3.5.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/apache-log4j-extras-1.2.17.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/asm-4.1.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/asm-commons-4.1.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/commons-cli-1.3.1.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/commons-logging-1.2.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/compiler-0.8.13.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/compress-lzf-1.0.2.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/elasticsearch-2.3.2.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/groovy-all-2.4.4.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/guava-18.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/hamcrest-core-1.3.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/HdrHistogram-2.1.6.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/hppc-0.7.1.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/httpclient-4.5.1.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/httpcore-4.4.3.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/httpmime-4.5.1.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jackson-core-2.6.2.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jackson-dataformat-cbor-2.6.2.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jackson-dataformat-smile-2.6.2.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jackson-dataformat-yaml-2.6.2.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/javax.servlet-api-3.1.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/javax.mail-1.5.5.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jetty-http-9.3.9.v20160517.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jetty-io-9.3.9.v20160517.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jetty-rewrite-9.3.9.v20160517.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jetty-security-9.3.9.v20160517.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jetty-server-9.3.9.v20160517.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jetty-servlet-9.3.9.v20160517.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jetty-servlets-9.3.9.v20160517.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jetty-util-9.3.9.v20160517.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jetty-webapp-9.3.9.v20160517.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jna-4.1.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/joda-convert-1.2.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/joda-time-2.8.2.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/json-schema-validator-2.2.6-lib.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jsr166e-1.1.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/jts-1.13.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/junit-4.12.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/log4j-1.2.17.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-analyzers-common-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-backward-codecs-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-core-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-grouping-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-highlighter-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-join-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-memory-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-misc-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-queries-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-queryparser-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-sandbox-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-spatial-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-spatial3d-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/lucene-suggest-5.5.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/netty-3.10.5.Final.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/securesm-1.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/snakeyaml-1.15.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/spatial4j-0.5.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/t-digest-3.0.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/twitter4j-core-4.0.2.jar&quot;</span><span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;lib/twitter4j-stream-4.0.2.jar&quot;</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;loklak.classpath&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;build&quot;</span><span class="p">,</span>
  <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;loklak&quot;</span><span class="p">,</span>
  <span class="s2">&quot;property&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;env&quot;</span><span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;target&quot;</span><span class="p">,</span>
      <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mf">1.8</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;source&quot;</span><span class="p">,</span>
      <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mf">1.8</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;init&quot;</span><span class="p">,</span>
      <span class="s2">&quot;copy&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;includeemptydirs&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;todir&quot;</span><span class="p">:</span> <span class="s2">&quot;classes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fileset&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;exclude&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;**/*.launch&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;**/*.java&quot;</span><span class="p">}</span>
          <span class="p">],</span>
          <span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;src&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;clean&quot;</span><span class="p">,</span>
      <span class="s2">&quot;delete&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;classes&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;html/javadoc&quot;</span><span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;javac&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;includeantruntime&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;debug&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;src&quot;</span><span class="p">},</span>
        <span class="s2">&quot;classpath&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;refid&quot;</span><span class="p">:</span> <span class="s2">&quot;loklak.classpath&quot;</span><span class="p">},</span>
        <span class="s2">&quot;destdir&quot;</span><span class="p">:</span> <span class="s2">&quot;classes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;$</span><span class="si">{source}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;$</span><span class="si">{target}</span><span class="s2">&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;depends&quot;</span><span class="p">:</span> <span class="s2">&quot;init&quot;</span><span class="p">,</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;build&quot;</span><span class="p">,</span>
      <span class="s2">&quot;echo&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;$</span><span class="si">{ant.project.name}</span><span class="s2">: $</span><span class="si">{ant.file}</span><span class="s2">&quot;</span><span class="p">},</span>
      <span class="s2">&quot;delete&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;classes&quot;</span><span class="p">},</span>
      <span class="s2">&quot;mkdir&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;classes&quot;</span><span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;javadoc&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;charset&quot;</span><span class="p">:</span> <span class="s2">&quot;UTF-8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;access&quot;</span><span class="p">:</span> <span class="s2">&quot;private&quot;</span><span class="p">,</span>
        <span class="s2">&quot;classpath&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;refid&quot;</span><span class="p">:</span> <span class="s2">&quot;loklak.classpath&quot;</span><span class="p">},</span>
        <span class="s2">&quot;destdir&quot;</span><span class="p">:</span> <span class="s2">&quot;html/javadoc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;windowtitle&quot;</span><span class="p">:</span> <span class="s2">&quot;loklak javadoc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;encoding&quot;</span><span class="p">:</span> <span class="s2">&quot;UTF-8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fileset&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;include&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;**/*.java&quot;</span><span class="p">},</span>
          <span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;src&quot;</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;depends&quot;</span><span class="p">:</span> <span class="s2">&quot;init&quot;</span><span class="p">,</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;javadoc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;make javadoc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;delete&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;html/javadoc&quot;</span><span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;depends&quot;</span><span class="p">:</span> <span class="s2">&quot;build,javadoc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;java&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;fork&quot;</span><span class="p">:</span> <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;classname&quot;</span><span class="p">:</span> <span class="s2">&quot;org.loklak.Main&quot;</span><span class="p">,</span>
        <span class="s2">&quot;classpath&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;refid&quot;</span><span class="p">:</span> <span class="s2">&quot;loklak.classpath&quot;</span><span class="p">},</span>
        <span class="s2">&quot;jvmarg&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;line&quot;</span><span class="p">:</span> <span class="s2">&quot;-ea&quot;</span><span class="p">},</span>
        <span class="s2">&quot;failonerror&quot;</span><span class="p">:</span> <span class="n">true</span>
      <span class="p">},</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;start&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;manifestclasspath&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;classpath&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;refid&quot;</span><span class="p">:</span> <span class="s2">&quot;loklak.classpath&quot;</span><span class="p">},</span>
        <span class="s2">&quot;jarfile&quot;</span><span class="p">:</span> <span class="s2">&quot;dist/loklak.jar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;property&quot;</span><span class="p">:</span> <span class="s2">&quot;jar.classpath&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;depends&quot;</span><span class="p">:</span> <span class="s2">&quot;build&quot;</span><span class="p">,</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;jar&quot;</span><span class="p">,</span>
      <span class="s2">&quot;jar&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;basedir&quot;</span><span class="p">:</span> <span class="s2">&quot;classes/&quot;</span><span class="p">,</span>
        <span class="s2">&quot;destfile&quot;</span><span class="p">:</span> <span class="s2">&quot;dist/loklak.jar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;manifest&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;attribute&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Class-Path&quot;</span><span class="p">,</span>
            <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;$</span><span class="si">{jar.classpath}</span><span class="s2">&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Main-Class&quot;</span><span class="p">,</span>
            <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;org.loklak.LoklakServer&quot;</span>
          <span class="p">}</span>
        <span class="p">]}</span>
      <span class="p">},</span>
      <span class="s2">&quot;mkdir&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;dir&quot;</span><span class="p">:</span> <span class="s2">&quot;dist&quot;</span><span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}}</span>
</pre></div>
</div>
</div>
<div class="section" id="api-csv2json-json">
<span id="api-csv2json-json"></span><h2>/api/csv2json.json<a class="headerlink" href="#api-csv2json-json" title="Permalink to this headline">¶</a></h2>
<p>Any well formed CSV data source can be converted to JSON using the loklak&#8217;s <code class="docutils literal"><span class="pre">csv2json.json</span></code> API endpoint. This servlet provides the ability to send data to loklak&#8217;s API as CSV and receive a JSON response. To do this, every CSV line ending with \n needs to be encoded as %0A. Then pass this information as a value to data and you&#8217;ll get a response.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">data</span>  <span class="o">=</span> <span class="n">The</span> <span class="n">CSV</span> <span class="n">Data</span> <span class="n">to</span> <span class="n">be</span> <span class="n">converted</span> <span class="n">to</span> <span class="n">JSON</span>   <span class="o">//</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">field</span> <span class="n">which</span> <span class="n">takes</span> <span class="n">data</span><span class="o">=&lt;</span><span class="n">CSV</span><span class="p">,</span><span class="n">CSV</span><span class="p">,</span><span class="n">CSV</span><span class="o">%</span><span class="mi">0</span><span class="n">ACSV</span><span class="p">,</span><span class="n">CSV</span><span class="p">,</span><span class="n">CSV</span><span class="o">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li>Query String:</li>
</ul>
<p><a class="reference external" href="http://localhost:9000/api/xml2json.json?data=&lt;csv&gt;">http://localhost:9000/api/xml2json.json?data=<csv></a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>  <span class="n">twittername</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">org</span>
  <span class="mi">0</span><span class="n">rb1t3r</span><span class="p">,</span> <span class="n">Michael</span> <span class="n">Peter</span> <span class="n">Christen</span><span class="p">,</span> <span class="n">FOSSASIA</span>
  <span class="n">sudheesh001</span><span class="p">,</span> <span class="n">Sudheesh</span> <span class="n">Singanamalla</span><span class="p">,</span> <span class="n">FOSSASIA</span>
</pre></div>
</div>
<p>Sample Query:</p>
<p><a class="reference external" href="http://localhost:9000/api/csv2json.json?data=twittername,name,org%0A0rb1t3r,Michael%20Peter%20Christen,FOSSASIA%0Asudheesh001,Sudheesh%20Singanamalla,FOSSASIA%0A">http://localhost:9000/api/csv2json.json?data=twittername,name,org%0A0rb1t3r,Michael%20Peter%20Christen,FOSSASIA%0Asudheesh001,Sudheesh%20Singanamalla,FOSSASIA%0A</a></p>
<p>Output</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;org&quot;</span><span class="p">:</span> <span class="s2">&quot;FOSSASIA&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Michael Peter Christen&quot;</span><span class="p">,</span>
    <span class="s2">&quot;twittername&quot;</span><span class="p">:</span> <span class="s2">&quot;0rb1t3r&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;org&quot;</span><span class="p">:</span> <span class="s2">&quot;FOSSASIA&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Sudheesh Singanamalla&quot;</span><span class="p">,</span>
    <span class="s2">&quot;twittername&quot;</span><span class="p">:</span> <span class="s2">&quot;sudheesh001&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static//images/cow.svg" alt="Logo"/>
    
  </a>
</p>









<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">APIs</a><ul>
<li><a class="reference internal" href="#client-authentication">Client Authentication</a></li>
<li><a class="reference internal" href="#cross-origin-resource-sharing">Cross-Origin Resource Sharing</a></li>
<li><a class="reference internal" href="#configuration-dependencies">Configuration Dependencies</a></li>
<li><a class="reference internal" href="#api-status-json">/api/status.json</a></li>
<li><a class="reference internal" href="#api-search-json">/api/search.json</a></li>
<li><a class="reference internal" href="#search-result-aggregations">Search Result Aggregations</a></li>
<li><a class="reference internal" href="#api-suggest-json">/api/suggest.json</a></li>
<li><a class="reference internal" href="#api-crawler-json">/api/crawler.json</a></li>
<li><a class="reference internal" href="#api-hello-json">/api/hello.json</a></li>
<li><a class="reference internal" href="#api-geocode-json">/api/geocode.json</a></li>
<li><a class="reference internal" href="#api-peers-json">/api/peers.json</a></li>
<li><a class="reference internal" href="#api-proxy-json">/api/proxy.json</a></li>
<li><a class="reference internal" href="#api-push-json">/api/push.json</a></li>
<li><a class="reference internal" href="#api-push-geojson-json">/api/push/geojson.json</a></li>
<li><a class="reference internal" href="#api-push">/api/push/<em>.</em></a></li>
<li><a class="reference internal" href="#api-import-json">/api/import.json</a></li>
<li><a class="reference internal" href="#api-validate-json">/api/validate.json</a></li>
<li><a class="reference internal" href="#api-settings-json">/api/settings.json</a></li>
<li><a class="reference internal" href="#api-account-json">/api/account.json</a></li>
<li><a class="reference internal" href="#api-user-json">/api/user.json</a></li>
<li><a class="reference internal" href="#api-apps-json">/api/apps.json</a></li>
<li><a class="reference internal" href="#api-asset">/api/asset</a></li>
<li><a class="reference internal" href="#api-threaddump-txt">/api/threaddump.txt</a></li>
<li><a class="reference internal" href="#vis-map-png">/vis/map.png</a></li>
<li><a class="reference internal" href="#vis-markdown-png">/vis/markdown.png</a></li>
<li><a class="reference internal" href="#vis-piechart-png">/vis/piechart.png</a></li>
<li><a class="reference internal" href="#existing-api-libraries-for-using-loklak-api">Existing API libraries for using loklak API</a></li>
<li><a class="reference internal" href="#api-xml2json-json">/api/xml2json.json</a></li>
<li><a class="reference internal" href="#api-csv2json-json">/api/csv2json.json</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Home</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome</a></li>
</ul>
<p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/download.html">Download and Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation_linux.html">Installation on Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation_mac.html">Installation on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation_windows.html">Installation on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation_docker.html">Installation with Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation_cloud9.html">Installation on Cloud9</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation_heroku.html">Installation on Heroku</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/tutorials.html">Video Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="eclipseSetup.html">Setup Eclipse</a></li>
<li class="toctree-l1"><a class="reference external" href="https://dev.loklak.org/javadoc">Javadoc</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/parsers.html">Parsers</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../installation/tutorials.html" title="previous chapter">Tutorials for loklak</a></li>
      <li>Next: <a href="eclipseSetup.html" title="next chapter">How to setup Loklak Server on Eclipse</a></li>
  </ul></li>
</ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Loklak.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.9</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
    </div>

    

    
  </body>
</html>