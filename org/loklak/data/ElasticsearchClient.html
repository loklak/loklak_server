<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Fri Jul 15 11:31:16 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ElasticsearchClient (loklak javadoc)</title>
<meta name="date" content="2016-07-15">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ElasticsearchClient (loklak javadoc)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":9,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/loklak/data/DAO.SearchLocalMessages.html" title="class in org.loklak.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/loklak/data/ElasticsearchClient.BulkEntry.html" title="class in org.loklak.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/loklak/data/ElasticsearchClient.html" target="_top">Frames</a></li>
<li><a href="ElasticsearchClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.loklak.data</div>
<h2 title="Class ElasticsearchClient" class="title">Class ElasticsearchClient</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.loklak.data.ElasticsearchClient</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ElasticsearchClient</span>
extends java.lang.Object</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.BulkEntry.html" title="class in org.loklak.data">ElasticsearchClient.BulkEntry</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.BulkWriteResult.html" title="class in org.loklak.data">ElasticsearchClient.BulkWriteResult</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.Query.html" title="class in org.loklak.data">ElasticsearchClient.Query</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#clusterReadyCache">clusterReadyCache</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private org.elasticsearch.client.Client</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#elasticsearchClient">elasticsearchClient</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.elasticsearch.node.Node</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#elasticsearchNode">elasticsearchNode</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../org/loklak/data/ElasticsearchClient.BulkWriteResult.html" title="class in org.loklak.data">ElasticsearchClient.BulkWriteResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#EMPTY_BULK_RESULT">EMPTY_BULK_RESULT</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#throttling_factor">throttling_factor</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#throttling_ops_threshold">throttling_ops_threshold</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#throttling_time_threshold">throttling_time_threshold</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static org.joda.time.format.DateTimeFormatter</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#utcFormatter">utcFormatter</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#ElasticsearchClient-org.elasticsearch.common.settings.Settings.Builder-">ElasticsearchClient</a></span>(org.elasticsearch.common.settings.Settings.Builder&nbsp;settings)</code>
<div class="block">create a elasticsearch node client (embedded elasticsearch)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#ElasticsearchClient-java.lang.String:A-java.lang.String-">ElasticsearchClient</a></span>(java.lang.String[]&nbsp;addresses,
                   java.lang.String&nbsp;clusterName)</code>
<div class="block">create a elasticsearch transport client (remote elasticsearch)</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#close--">close</a></span>()</code>
<div class="block">Close the connection to the remote elasticsearch client.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#clusterReady--">clusterReady</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#clusterStats--">clusterStats</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#count-org.elasticsearch.index.query.QueryBuilder-java.lang.String-">count</a></span>(org.elasticsearch.index.query.QueryBuilder&nbsp;q,
     java.lang.String&nbsp;indexName)</code>
<div class="block">Get the number of documents in the search index for a given search query</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#count-java.lang.String-">count</a></span>(java.lang.String&nbsp;indexName)</code>
<div class="block">Get the number of documents in the search index</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#count-java.lang.String-java.lang.String-long-">count</a></span>(java.lang.String&nbsp;index,
     java.lang.String&nbsp;histogram_timefield,
     long&nbsp;millis)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#countLocal-java.lang.String-java.lang.String-">countLocal</a></span>(java.lang.String&nbsp;index,
          java.lang.String&nbsp;provider_hash)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#createIndexIfNotExists-java.lang.String-int-int-">createIndexIfNotExists</a></span>(java.lang.String&nbsp;indexName,
                      int&nbsp;shards,
                      int&nbsp;replicas)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#delete-java.lang.String-java.lang.String-java.lang.String-">delete</a></span>(java.lang.String&nbsp;indexName,
      java.lang.String&nbsp;typeName,
      java.lang.String&nbsp;id)</code>
<div class="block">Delete a document for a given id.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#deleteBulk-java.lang.String-java.util.Map-">deleteBulk</a></span>(java.lang.String&nbsp;indexName,
          java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;ids)</code>
<div class="block">Delete a list of documents for a given set of ids
 ATTENTION: read about the time-out of version number checking in the method above.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#deleteByQuery-java.lang.String-org.elasticsearch.index.query.QueryBuilder-">deleteByQuery</a></span>(java.lang.String&nbsp;indexName,
             org.elasticsearch.index.query.QueryBuilder&nbsp;q)</code>
<div class="block">Delete documents using a query.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#exist-java.lang.String-java.lang.String-java.lang.String-">exist</a></span>(java.lang.String&nbsp;indexName,
     java.lang.String&nbsp;typeName,
     java.lang.String&nbsp;id)</code>
<div class="block">Get the document for a given id.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#existBulk-java.lang.String-java.lang.String-java.util.Collection-">existBulk</a></span>(java.lang.String&nbsp;indexName,
         java.lang.String&nbsp;typeName,
         java.util.Collection&lt;java.lang.String&gt;&nbsp;ids)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#finalize--">finalize</a></span>()</code>
<div class="block">A finalize method is added to ensure that close() is always called.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.util.LinkedHashMap&lt;java.lang.String,java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#fullDateHistogram-java.lang.String-int-java.lang.String-">fullDateHistogram</a></span>(java.lang.String&nbsp;indexName,
                 int&nbsp;timezoneOffset,
                 java.lang.String&nbsp;histogram_timefield)</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../org/loklak/objects/ResultList.html" title="class in org.loklak.objects">ResultList</a>&lt;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#fuzzyquery-java.lang.String-java.lang.String-java.lang.String-int-java.lang.String-java.lang.String-org.elasticsearch.search.sort.SortOrder-java.util.Date-java.util.Date-java.lang.String-">fuzzyquery</a></span>(java.lang.String&nbsp;indexName,
          java.lang.String&nbsp;fieldName,
          java.lang.String&nbsp;q,
          int&nbsp;resultCount,
          java.lang.String&nbsp;sort_field,
          java.lang.String&nbsp;default_sort_type,
          org.elasticsearch.search.sort.SortOrder&nbsp;sort_order,
          java.util.Date&nbsp;since,
          java.util.Date&nbsp;until,
          java.lang.String&nbsp;range_field)</code>
<div class="block">Search the local message cache using a elasticsearch query.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>org.elasticsearch.action.admin.cluster.stats.ClusterStatsNodes</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#getClusterStatsNodes--">getClusterStatsNodes</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected static java.util.Map&lt;java.lang.String,java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#getMap-org.elasticsearch.action.get.GetResponse-">getMap</a></span>(org.elasticsearch.action.get.GetResponse&nbsp;response)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>org.elasticsearch.action.admin.cluster.stats.ClusterStatsNodes</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#getStats--">getStats</a></span>()</code>
<div class="block">Retrieve a statistic object from the connected elasticsearch cluster</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#getType-java.lang.String-java.lang.String-">getType</a></span>(java.lang.String&nbsp;indexName,
       java.lang.String&nbsp;id)</code>
<div class="block">Get the type name of a document or null if the document does not exist.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#nodeSettings--">nodeSettings</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#pendingClusterTasks--">pendingClusterTasks</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="../../../org/loklak/data/ElasticsearchClient.Query.html" title="class in org.loklak.data">ElasticsearchClient.Query</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#query-java.lang.String-org.elasticsearch.index.query.QueryBuilder-java.lang.String-int-int-long-java.lang.String-int-java.lang.String...-">query</a></span>(java.lang.String&nbsp;indexName,
     org.elasticsearch.index.query.QueryBuilder&nbsp;queryBuilder,
     java.lang.String&nbsp;order_field,
     int&nbsp;timezoneOffset,
     int&nbsp;resultCount,
     long&nbsp;histogram_interval,
     java.lang.String&nbsp;histogram_timefield,
     int&nbsp;aggregationLimit,
     java.lang.String...&nbsp;aggregationFields)</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#query-java.lang.String-java.lang.String-org.elasticsearch.index.query.MatchQueryBuilder.Operator-int-int-">query</a></span>(java.lang.String&nbsp;indexName,
     java.lang.String&nbsp;q,
     org.elasticsearch.index.query.MatchQueryBuilder.Operator&nbsp;operator,
     int&nbsp;offset,
     int&nbsp;count)</code>
<div class="block">Query with a string and boundaries.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#query-java.lang.String-java.lang.String-java.lang.String-">query</a></span>(java.lang.String&nbsp;indexName,
     java.lang.String&nbsp;field_name,
     java.lang.String&nbsp;field_value)</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#queryWithConstraints-java.lang.String-java.lang.String-java.lang.String-java.util.Map-boolean-">queryWithConstraints</a></span>(java.lang.String&nbsp;indexName,
                    java.lang.String&nbsp;fieldName,
                    java.lang.String&nbsp;fieldValue,
                    java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints,
                    boolean&nbsp;latest)</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#readMap-java.lang.String-java.lang.String-">readMap</a></span>(java.lang.String&nbsp;indexName,
       java.lang.String&nbsp;id)</code>
<div class="block">Read a json document from the search index for a given id.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#readSource-java.lang.String-java.lang.String-">readSource</a></span>(java.lang.String&nbsp;indexName,
          java.lang.String&nbsp;id)</code>
<div class="block">Read a document from the search index for a given id.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#setMapping-java.lang.String-java.io.File-">setMapping</a></span>(java.lang.String&nbsp;indexName,
          java.io.File&nbsp;json)</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#setMapping-java.lang.String-java.util.Map-">setMapping</a></span>(java.lang.String&nbsp;indexName,
          java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;mapping)</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#setMapping-java.lang.String-java.lang.String-">setMapping</a></span>(java.lang.String&nbsp;indexName,
          java.lang.String&nbsp;mapping)</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#setMapping-java.lang.String-org.elasticsearch.common.xcontent.XContentBuilder-">setMapping</a></span>(java.lang.String&nbsp;indexName,
          org.elasticsearch.common.xcontent.XContentBuilder&nbsp;mapping)</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#wait_ready-long-org.elasticsearch.cluster.health.ClusterHealthStatus-">wait_ready</a></span>(long&nbsp;maxtimemillis,
          org.elasticsearch.cluster.health.ClusterHealthStatus&nbsp;status)</code>&nbsp;</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#writeMap-java.lang.String-java.util.Map-java.lang.String-java.lang.String-">writeMap</a></span>(java.lang.String&nbsp;indexName,
        java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;jsonMap,
        java.lang.String&nbsp;typeName,
        java.lang.String&nbsp;id)</code>
<div class="block">Write a json document into the search index.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code><a href="../../../org/loklak/data/ElasticsearchClient.BulkWriteResult.html" title="class in org.loklak.data">ElasticsearchClient.BulkWriteResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#writeMapBulk-java.lang.String-java.util.List-">writeMapBulk</a></span>(java.lang.String&nbsp;indexName,
            java.util.List&lt;<a href="../../../org/loklak/data/ElasticsearchClient.BulkEntry.html" title="class in org.loklak.data">ElasticsearchClient.BulkEntry</a>&gt;&nbsp;jsonMapList)</code>
<div class="block">bulk message write</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/loklak/data/ElasticsearchClient.html#writeSource-java.lang.String-org.elasticsearch.common.xcontent.XContentBuilder-java.lang.String-java.lang.String-long-org.elasticsearch.index.VersionType-">writeSource</a></span>(java.lang.String&nbsp;indexName,
           org.elasticsearch.common.xcontent.XContentBuilder&nbsp;json,
           java.lang.String&nbsp;id,
           java.lang.String&nbsp;typeName,
           long&nbsp;version,
           org.elasticsearch.index.VersionType&nbsp;versionType)</code>
<div class="block">Write a json document into the search index.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="throttling_time_threshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>throttling_time_threshold</h4>
<pre>private static&nbsp;long throttling_time_threshold</pre>
</li>
</ul>
<a name="throttling_ops_threshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>throttling_ops_threshold</h4>
<pre>private static&nbsp;long throttling_ops_threshold</pre>
</li>
</ul>
<a name="throttling_factor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>throttling_factor</h4>
<pre>private static&nbsp;double throttling_factor</pre>
</li>
</ul>
<a name="EMPTY_BULK_RESULT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EMPTY_BULK_RESULT</h4>
<pre>public static final&nbsp;<a href="../../../org/loklak/data/ElasticsearchClient.BulkWriteResult.html" title="class in org.loklak.data">ElasticsearchClient.BulkWriteResult</a> EMPTY_BULK_RESULT</pre>
</li>
</ul>
<a name="elasticsearchNode">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>elasticsearchNode</h4>
<pre>private&nbsp;org.elasticsearch.node.Node elasticsearchNode</pre>
</li>
</ul>
<a name="elasticsearchClient">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>elasticsearchClient</h4>
<pre>private&nbsp;org.elasticsearch.client.Client elasticsearchClient</pre>
</li>
</ul>
<a name="clusterReadyCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clusterReadyCache</h4>
<pre>private&nbsp;boolean clusterReadyCache</pre>
</li>
</ul>
<a name="utcFormatter">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>utcFormatter</h4>
<pre>private static final&nbsp;org.joda.time.format.DateTimeFormatter utcFormatter</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ElasticsearchClient-java.lang.String:A-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ElasticsearchClient</h4>
<pre>public&nbsp;ElasticsearchClient(java.lang.String[]&nbsp;addresses,
                           java.lang.String&nbsp;clusterName)</pre>
<div class="block">create a elasticsearch transport client (remote elasticsearch)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>addresses</code> - an array of host:port addresses</dd>
<dd><code>clusterName</code> - </dd>
</dl>
</li>
</ul>
<a name="ElasticsearchClient-org.elasticsearch.common.settings.Settings.Builder-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ElasticsearchClient</h4>
<pre>public&nbsp;ElasticsearchClient(org.elasticsearch.common.settings.Settings.Builder&nbsp;settings)</pre>
<div class="block">create a elasticsearch node client (embedded elasticsearch)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>settings</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getClusterStatsNodes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClusterStatsNodes</h4>
<pre>public&nbsp;org.elasticsearch.action.admin.cluster.stats.ClusterStatsNodes&nbsp;getClusterStatsNodes()</pre>
</li>
</ul>
<a name="clusterReady--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clusterReady</h4>
<pre>public&nbsp;boolean&nbsp;clusterReady()</pre>
</li>
</ul>
<a name="wait_ready-long-org.elasticsearch.cluster.health.ClusterHealthStatus-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wait_ready</h4>
<pre>public&nbsp;boolean&nbsp;wait_ready(long&nbsp;maxtimemillis,
                          org.elasticsearch.cluster.health.ClusterHealthStatus&nbsp;status)</pre>
</li>
</ul>
<a name="createIndexIfNotExists-java.lang.String-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createIndexIfNotExists</h4>
<pre>public&nbsp;void&nbsp;createIndexIfNotExists(java.lang.String&nbsp;indexName,
                                   int&nbsp;shards,
                                   int&nbsp;replicas)</pre>
</li>
</ul>
<a name="setMapping-java.lang.String-org.elasticsearch.common.xcontent.XContentBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMapping</h4>
<pre>public&nbsp;void&nbsp;setMapping(java.lang.String&nbsp;indexName,
                       org.elasticsearch.common.xcontent.XContentBuilder&nbsp;mapping)</pre>
</li>
</ul>
<a name="setMapping-java.lang.String-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMapping</h4>
<pre>public&nbsp;void&nbsp;setMapping(java.lang.String&nbsp;indexName,
                       java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;mapping)</pre>
</li>
</ul>
<a name="setMapping-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMapping</h4>
<pre>public&nbsp;void&nbsp;setMapping(java.lang.String&nbsp;indexName,
                       java.lang.String&nbsp;mapping)</pre>
</li>
</ul>
<a name="setMapping-java.lang.String-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMapping</h4>
<pre>public&nbsp;void&nbsp;setMapping(java.lang.String&nbsp;indexName,
                       java.io.File&nbsp;json)</pre>
</li>
</ul>
<a name="pendingClusterTasks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pendingClusterTasks</h4>
<pre>public&nbsp;java.lang.String&nbsp;pendingClusterTasks()</pre>
</li>
</ul>
<a name="clusterStats--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clusterStats</h4>
<pre>public&nbsp;java.lang.String&nbsp;clusterStats()</pre>
</li>
</ul>
<a name="nodeSettings--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nodeSettings</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;nodeSettings()</pre>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Close the connection to the remote elasticsearch client. This should only be called when the application is
 terminated.
 Please avoid to open and close the ElasticsearchClient for the same cluster and index more than once.
 To avoid that this method is called more than once, the elasticsearch_client object is set to null
 as soon this was called the first time. This is needed because the finalize method calls this
 method as well.</div>
</li>
</ul>
<a name="finalize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalize</h4>
<pre>public&nbsp;void&nbsp;finalize()</pre>
<div class="block">A finalize method is added to ensure that close() is always called.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>finalize</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="getStats--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStats</h4>
<pre>public&nbsp;org.elasticsearch.action.admin.cluster.stats.ClusterStatsNodes&nbsp;getStats()</pre>
<div class="block">Retrieve a statistic object from the connected elasticsearch cluster</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>cluster stats from connected cluster</dd>
</dl>
</li>
</ul>
<a name="count-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>count</h4>
<pre>public&nbsp;long&nbsp;count(java.lang.String&nbsp;indexName)</pre>
<div class="block">Get the number of documents in the search index</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the count of all documents in the index</dd>
</dl>
</li>
</ul>
<a name="count-org.elasticsearch.index.query.QueryBuilder-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>count</h4>
<pre>public&nbsp;long&nbsp;count(org.elasticsearch.index.query.QueryBuilder&nbsp;q,
                  java.lang.String&nbsp;indexName)</pre>
<div class="block">Get the number of documents in the search index for a given search query</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>q</code> - the query</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the count of all documents in the index which matches with the query</dd>
</dl>
</li>
</ul>
<a name="count-java.lang.String-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>count</h4>
<pre>public&nbsp;long&nbsp;count(java.lang.String&nbsp;index,
                  java.lang.String&nbsp;histogram_timefield,
                  long&nbsp;millis)</pre>
</li>
</ul>
<a name="countLocal-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countLocal</h4>
<pre>public&nbsp;long&nbsp;countLocal(java.lang.String&nbsp;index,
                       java.lang.String&nbsp;provider_hash)</pre>
</li>
</ul>
<a name="exist-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exist</h4>
<pre>public&nbsp;boolean&nbsp;exist(java.lang.String&nbsp;indexName,
                     java.lang.String&nbsp;typeName,
                     java.lang.String&nbsp;id)</pre>
<div class="block">Get the document for a given id. If you don't know the typeName of the index, then it is not recommended
 to use this method. You can set typeName to null and get the correct answer, but you still need the information
 in which type the document was found if you want to call this API with the type afterwards. In such a case,
 use the method getType() which returns null if the document does not exist and the type name if the document exist.
 DO NOT USE THIS METHOD if you call getType anyway. I.e. replace a code like
 if (exist(id()) {
   String type = getType(id);
   ...
 }
 with
 String type = getType(id);
 if (type != null) {
   ...
 }</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexName</code> - the name of the index</dd>
<dd><code>typeName</code> - the type name, can be set to NULL for all types (see also: getType())</dd>
<dd><code>id</code> - the unique identifier of a document</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the document, if it exists or null otherwise;</dd>
</dl>
</li>
</ul>
<a name="existBulk-java.lang.String-java.lang.String-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>existBulk</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;existBulk(java.lang.String&nbsp;indexName,
                                                 java.lang.String&nbsp;typeName,
                                                 java.util.Collection&lt;java.lang.String&gt;&nbsp;ids)</pre>
</li>
</ul>
<a name="getType-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getType</h4>
<pre>public&nbsp;java.lang.String&nbsp;getType(java.lang.String&nbsp;indexName,
                                java.lang.String&nbsp;id)</pre>
<div class="block">Get the type name of a document or null if the document does not exist.
 This is a replacement of the exist() method which does exactly the same as exist()
 but is able to return the type name in case that exist is successful.
 Please read the comment to exist() for details.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexName</code> - the name of the index</dd>
<dd><code>id</code> - the unique identifier of a document</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the type name of the document if it exists, null otherwise</dd>
</dl>
</li>
</ul>
<a name="delete-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;boolean&nbsp;delete(java.lang.String&nbsp;indexName,
                      java.lang.String&nbsp;typeName,
                      java.lang.String&nbsp;id)</pre>
<div class="block">Delete a document for a given id.
 ATTENTION: deleted documents cannot be re-inserted again if version number
 checking is used and the new document does not comply to the version number
 rule. The information which document was deleted persists for one minute and
 then inserting documents with the same version number as before is possible.
 To modify this behavior, change the configuration setting index.gc_deletes</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the unique identifier of a document</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the document existed and was deleted, false otherwise</dd>
</dl>
</li>
</ul>
<a name="deleteBulk-java.lang.String-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteBulk</h4>
<pre>public&nbsp;int&nbsp;deleteBulk(java.lang.String&nbsp;indexName,
                      java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;ids)</pre>
<div class="block">Delete a list of documents for a given set of ids
 ATTENTION: read about the time-out of version number checking in the method above.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ids</code> - a map from the unique identifier of a document to the document type</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of deleted documents</dd>
</dl>
</li>
</ul>
<a name="deleteByQuery-java.lang.String-org.elasticsearch.index.query.QueryBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteByQuery</h4>
<pre>public&nbsp;int&nbsp;deleteByQuery(java.lang.String&nbsp;indexName,
                         org.elasticsearch.index.query.QueryBuilder&nbsp;q)</pre>
<div class="block">Delete documents using a query. Check what would be deleted first with a normal search query!
 Elasticsearch once provided a native prepareDeleteByQuery method, but this was removed
 in later versions. Instead, there is a plugin which iterates over search results,
 see https://www.elastic.co/guide/en/elasticsearch/plugins/current/plugins-delete-by-query.html
 We simulate the same behaviour here without the need of that plugin.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>q</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>delete document count</dd>
</dl>
</li>
</ul>
<a name="readSource-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readSource</h4>
<pre>public&nbsp;byte[]&nbsp;readSource(java.lang.String&nbsp;indexName,
                         java.lang.String&nbsp;id)</pre>
<div class="block">Read a document from the search index for a given id.
 This is the cheapest document retrieval from the '_source' field because
 elasticsearch does not do any json transformation or parsing. We
 get simply the text from the '_source' field. This might be useful to
 make a dump from the index content.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the unique identifier of a document</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the document as source text</dd>
</dl>
</li>
</ul>
<a name="readMap-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readMap</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;readMap(java.lang.String&nbsp;indexName,
                                                                java.lang.String&nbsp;id)</pre>
<div class="block">Read a json document from the search index for a given id.
 Elasticsearch reads the '_source' field and parses the content as json.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the unique identifier of a document</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the document as json, matched on a Map<String, Object> object instance</dd>
</dl>
</li>
</ul>
<a name="getMap-org.elasticsearch.action.get.GetResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMap</h4>
<pre>protected static&nbsp;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;getMap(org.elasticsearch.action.get.GetResponse&nbsp;response)</pre>
</li>
</ul>
<a name="writeSource-java.lang.String-org.elasticsearch.common.xcontent.XContentBuilder-java.lang.String-java.lang.String-long-org.elasticsearch.index.VersionType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeSource</h4>
<pre>public&nbsp;void&nbsp;writeSource(java.lang.String&nbsp;indexName,
                        org.elasticsearch.common.xcontent.XContentBuilder&nbsp;json,
                        java.lang.String&nbsp;id,
                        java.lang.String&nbsp;typeName,
                        long&nbsp;version,
                        org.elasticsearch.index.VersionType&nbsp;versionType)</pre>
<div class="block">Write a json document into the search index.
 Writing using a XContentBuilder is the most efficient way to add content to elasticsearch</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jsonMap</code> - the json document to be indexed in elasticsearch</dd>
<dd><code>id</code> - the unique identifier of a document</dd>
<dd><code>indexName</code> - the name of the index</dd>
<dd><code>typeName</code> - the type of the index</dd>
</dl>
</li>
</ul>
<a name="writeMap-java.lang.String-java.util.Map-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeMap</h4>
<pre>public&nbsp;boolean&nbsp;writeMap(java.lang.String&nbsp;indexName,
                        java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;jsonMap,
                        java.lang.String&nbsp;typeName,
                        java.lang.String&nbsp;id)</pre>
<div class="block">Write a json document into the search index. The id must be calculated by the calling environment.
 This id should be unique for the json. The best way to calculate this id is, to use an existing
 field from the jsonMap which contains a unique identifier for the jsonMap.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexName</code> - the name of the index</dd>
<dd><code>jsonMap</code> - the json document to be indexed in elasticsearch</dd>
<dd><code>typeName</code> - the type of the index</dd>
<dd><code>id</code> - the unique identifier of a document</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the document with given id did not exist before, false if it existed and was overwritten</dd>
</dl>
</li>
</ul>
<a name="writeMapBulk-java.lang.String-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeMapBulk</h4>
<pre>public&nbsp;<a href="../../../org/loklak/data/ElasticsearchClient.BulkWriteResult.html" title="class in org.loklak.data">ElasticsearchClient.BulkWriteResult</a>&nbsp;writeMapBulk(java.lang.String&nbsp;indexName,
                                                        java.util.List&lt;<a href="../../../org/loklak/data/ElasticsearchClient.BulkEntry.html" title="class in org.loklak.data">ElasticsearchClient.BulkEntry</a>&gt;&nbsp;jsonMapList)</pre>
<div class="block">bulk message write</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jsonMapList</code> - a list of json documents to be indexed</dd>
<dd><code>indexName</code> - the name of the index</dd>
<dd><code>typeName</code> - the type of the index</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list with error messages.
            The key is the id of the document, the value is an error string.
            The method was only successful if this list is empty.
            This must be a list, because keys may appear several times.</dd>
</dl>
</li>
</ul>
<a name="query-java.lang.String-java.lang.String-org.elasticsearch.index.query.MatchQueryBuilder.Operator-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>query</h4>
<pre>public&nbsp;java.util.List&lt;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&gt;&nbsp;query(java.lang.String&nbsp;indexName,
                                                                              java.lang.String&nbsp;q,
                                                                              org.elasticsearch.index.query.MatchQueryBuilder.Operator&nbsp;operator,
                                                                              int&nbsp;offset,
                                                                              int&nbsp;count)</pre>
<div class="block">Query with a string and boundaries.
 The string is supposed to be something that the user types in without a technical syntax.
 The mapping of the search terms into the index can be different according
 to a search type. Please see
 https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query.html.
 A better way to do this would be the usage of a cursor.
 See the delete method to find out how cursors work.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>q</code> - a search query string</dd>
<dd><code>operator</code> - either AND or OR, the default operator for the query tokens</dd>
<dd><code>offset</code> - the first document number, 0 is the first one</dd>
<dd><code>count</code> - the number of documents to be returned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of json objects, mapped as Map<String,Object> for each json</dd>
</dl>
</li>
</ul>
<a name="query-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>query</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;query(java.lang.String&nbsp;indexName,
                                                              java.lang.String&nbsp;field_name,
                                                              java.lang.String&nbsp;field_value)</pre>
</li>
</ul>
<a name="query-java.lang.String-org.elasticsearch.index.query.QueryBuilder-java.lang.String-int-int-long-java.lang.String-int-java.lang.String...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>query</h4>
<pre>public&nbsp;<a href="../../../org/loklak/data/ElasticsearchClient.Query.html" title="class in org.loklak.data">ElasticsearchClient.Query</a>&nbsp;query(java.lang.String&nbsp;indexName,
                                       org.elasticsearch.index.query.QueryBuilder&nbsp;queryBuilder,
                                       java.lang.String&nbsp;order_field,
                                       int&nbsp;timezoneOffset,
                                       int&nbsp;resultCount,
                                       long&nbsp;histogram_interval,
                                       java.lang.String&nbsp;histogram_timefield,
                                       int&nbsp;aggregationLimit,
                                       java.lang.String...&nbsp;aggregationFields)</pre>
</li>
</ul>
<a name="fuzzyquery-java.lang.String-java.lang.String-java.lang.String-int-java.lang.String-java.lang.String-org.elasticsearch.search.sort.SortOrder-java.util.Date-java.util.Date-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fuzzyquery</h4>
<pre>public&nbsp;<a href="../../../org/loklak/objects/ResultList.html" title="class in org.loklak.objects">ResultList</a>&lt;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&gt;&nbsp;fuzzyquery(java.lang.String&nbsp;indexName,
                                                                               java.lang.String&nbsp;fieldName,
                                                                               java.lang.String&nbsp;q,
                                                                               int&nbsp;resultCount,
                                                                               java.lang.String&nbsp;sort_field,
                                                                               java.lang.String&nbsp;default_sort_type,
                                                                               org.elasticsearch.search.sort.SortOrder&nbsp;sort_order,
                                                                               java.util.Date&nbsp;since,
                                                                               java.util.Date&nbsp;until,
                                                                               java.lang.String&nbsp;range_field)</pre>
<div class="block">Search the local message cache using a elasticsearch query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>q</code> - - the query, can be empty for a matchall-query</dd>
<dd><code>resultCount</code> - - the number of messages in the result</dd>
<dd><code>sort_field</code> - - the field name to sort the result list, i.e. "query_first"</dd>
<dd><code>sort_order</code> - - the sort order (you want to use SortOrder.DESC here)</dd>
</dl>
</li>
</ul>
<a name="queryWithConstraints-java.lang.String-java.lang.String-java.lang.String-java.util.Map-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryWithConstraints</h4>
<pre>public&nbsp;java.util.List&lt;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&gt;&nbsp;queryWithConstraints(java.lang.String&nbsp;indexName,
                                                                                             java.lang.String&nbsp;fieldName,
                                                                                             java.lang.String&nbsp;fieldValue,
                                                                                             java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;constraints,
                                                                                             boolean&nbsp;latest)
                                                                                      throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="fullDateHistogram-java.lang.String-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>fullDateHistogram</h4>
<pre>public&nbsp;java.util.LinkedHashMap&lt;java.lang.String,java.lang.Long&gt;&nbsp;fullDateHistogram(java.lang.String&nbsp;indexName,
                                                                                  int&nbsp;timezoneOffset,
                                                                                  java.lang.String&nbsp;histogram_timefield)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/loklak/data/DAO.SearchLocalMessages.html" title="class in org.loklak.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/loklak/data/ElasticsearchClient.BulkEntry.html" title="class in org.loklak.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/loklak/data/ElasticsearchClient.html" target="_top">Frames</a></li>
<li><a href="ElasticsearchClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
